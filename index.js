"use strict";var zu=Object.create;var Yt=Object.defineProperty;var Wu=Object.getOwnPropertyDescriptor;var Vu=Object.getOwnPropertyNames;var Gu=Object.getPrototypeOf,Ju=Object.prototype.hasOwnProperty;var X=(t,e)=>()=>(t&&(e=t(t=0)),e);var S=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ku=(t,e)=>{for(var r in e)Yt(t,r,{get:e[r],enumerable:!0})},ji=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Vu(e))!Ju.call(t,i)&&i!==r&&Yt(t,i,{get:()=>e[i],enumerable:!(n=Wu(e,i))||n.enumerable});return t};var L=(t,e,r)=>(r=t!=null?zu(Gu(t)):{},ji(e||!t||!t.__esModule?Yt(r,"default",{value:t,enumerable:!0}):r,t)),Yu=t=>ji(Yt({},"__esModule",{value:!0}),t);var Di=(t,e,r)=>new Promise((n,i)=>{var s=c=>{try{a(r.next(c))}catch(f){i(f)}},o=c=>{try{a(r.throw(c))}catch(f){i(f)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,o);a((r=r.apply(t,e)).next())});var Qt=S(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.toCommandProperties=Ye.toCommandValue=void 0;function Qu(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}Ye.toCommandValue=Qu;function Xu(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}Ye.toCommandProperties=Xu});var Fi=S(fe=>{"use strict";var Zu=fe&&fe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ef=fe&&fe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tf=fe&&fe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Zu(e,t,r);return ef(e,t),e};Object.defineProperty(fe,"__esModule",{value:!0});fe.issue=fe.issueCommand=void 0;var rf=tf(require("os")),Ni=Qt();function Li(t,e,r){let n=new Kr(t,e,r);process.stdout.write(n.toString()+rf.EOL)}fe.issueCommand=Li;function nf(t,e=""){Li(t,{},e)}fe.issue=nf;var Ii="::",Kr=class{constructor(e,r,n){e||(e="missing.command"),this.command=e,this.properties=r,this.message=n}toString(){let e=Ii+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let i=this.properties[n];i&&(r?r=!1:e+=",",e+=`${n}=${of(i)}`)}}return e+=`${Ii}${sf(this.message)}`,e}};function sf(t){return Ni.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function of(t){return Ni.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function pt(){return Xt>Zt.length-16&&(Ui.default.randomFillSync(Zt),Xt=0),Zt.slice(Xt,Xt+=16)}var Ui,Zt,Xt,Yr=X(()=>{Ui=L(require("crypto")),Zt=new Uint8Array(256),Xt=Zt.length});var Hi,$i=X(()=>{Hi=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function af(t){return typeof t=="string"&&Hi.test(t)}var Pe,yt=X(()=>{$i();Pe=af});function cf(t,e=0){let r=(J[t[e+0]]+J[t[e+1]]+J[t[e+2]]+J[t[e+3]]+"-"+J[t[e+4]]+J[t[e+5]]+"-"+J[t[e+6]]+J[t[e+7]]+"-"+J[t[e+8]]+J[t[e+9]]+"-"+J[t[e+10]]+J[t[e+11]]+J[t[e+12]]+J[t[e+13]]+J[t[e+14]]+J[t[e+15]]).toLowerCase();if(!Pe(r))throw TypeError("Stringified UUID is invalid");return r}var J,Te,gt=X(()=>{yt();J=[];for(let t=0;t<256;++t)J.push((t+256).toString(16).substr(1));Te=cf});function uf(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let s=t.node||Mi,o=t.clockseq!==void 0?t.clockseq:Qr;if(s==null||o==null){let d=t.random||(t.rng||pt)();s==null&&(s=Mi=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),o==null&&(o=Qr=(d[6]<<8|d[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:Zr+1,f=a-Xr+(c-Zr)/1e4;if(f<0&&t.clockseq===void 0&&(o=o+1&16383),(f<0||a>Xr)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Xr=a,Zr=c,Qr=o,a+=122192928e5;let h=((a&268435455)*1e4+c)%4294967296;i[n++]=h>>>24&255,i[n++]=h>>>16&255,i[n++]=h>>>8&255,i[n++]=h&255;let p=a/4294967296*1e4&268435455;i[n++]=p>>>8&255,i[n++]=p&255,i[n++]=p>>>24&15|16,i[n++]=p>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let d=0;d<6;++d)i[n+d]=s[d];return e||Te(i)}var Mi,Qr,Xr,Zr,Bi,zi=X(()=>{Yr();gt();Xr=0,Zr=0;Bi=uf});function ff(t){if(!Pe(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var er,en=X(()=>{yt();er=ff});function hf(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function tr(t,e,r){function n(i,s,o,a){if(typeof i=="string"&&(i=hf(i)),typeof s=="string"&&(s=er(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=r(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){a=a||0;for(let f=0;f<16;++f)o[a+f]=c[f];return o}return Te(c)}try{n.name=t}catch{}return n.DNS=lf,n.URL=df,n}var lf,df,tn=X(()=>{gt();en();lf="6ba7b810-9dad-11d1-80b4-00c04fd430c8",df="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function mf(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),Wi.default.createHash("md5").update(t).digest()}var Wi,Vi,Gi=X(()=>{Wi=L(require("crypto"));Vi=mf});var pf,Ji,Ki=X(()=>{tn();Gi();pf=tr("v3",48,Vi),Ji=pf});function yf(t,e,r){t=t||{};let n=t.random||(t.rng||pt)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return Te(n)}var Yi,Qi=X(()=>{Yr();gt();Yi=yf});function gf(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),Xi.default.createHash("sha1").update(t).digest()}var Xi,Zi,es=X(()=>{Xi=L(require("crypto"));Zi=gf});var _f,ts,rs=X(()=>{tn();es();_f=tr("v5",80,Zi),ts=_f});var ns,is=X(()=>{ns="00000000-0000-0000-0000-000000000000"});function wf(t){if(!Pe(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var ss,os=X(()=>{yt();ss=wf});var as={};Ku(as,{NIL:()=>ns,parse:()=>er,stringify:()=>Te,v1:()=>Bi,v3:()=>Ji,v4:()=>Yi,v5:()=>ts,validate:()=>Pe,version:()=>ss});var cs=X(()=>{zi();Ki();Qi();rs();is();os();yt();gt();en()});var ls=S(he=>{"use strict";var bf=he&&he.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Sf=he&&he.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fs=he&&he.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&bf(e,t,r);return Sf(e,t),e};Object.defineProperty(he,"__esModule",{value:!0});he.prepareKeyValueMessage=he.issueFileCommand=void 0;var us=fs(require("fs")),rn=fs(require("os")),Ef=(cs(),Yu(as)),hs=Qt();function xf(t,e){let r=process.env[`GITHUB_${t}`];if(!r)throw new Error(`Unable to find environment variable for file command ${t}`);if(!us.existsSync(r))throw new Error(`Missing file at path: ${r}`);us.appendFileSync(r,`${hs.toCommandValue(e)}${rn.EOL}`,{encoding:"utf8"})}he.issueFileCommand=xf;function Of(t,e){let r=`ghadelimiter_${Ef.v4()}`,n=hs.toCommandValue(e);if(t.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${t}<<${r}${rn.EOL}${n}${rn.EOL}${r}`}he.prepareKeyValueMessage=Of});var ms=S(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.checkBypass=Qe.getProxyUrl=void 0;function vf(t){let e=t.protocol==="https:";if(ds(t))return;let r=(()=>e?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}Qe.getProxyUrl=vf;function ds(t){if(!t.hostname)return!1;let e=process.env.no_proxy||process.env.NO_PROXY||"";if(!e)return!1;let r;t.port?r=Number(t.port):t.protocol==="http:"?r=80:t.protocol==="https:"&&(r=443);let n=[t.hostname.toUpperCase()];typeof r=="number"&&n.push(`${n[0]}:${r}`);for(let i of e.split(",").map(s=>s.trim().toUpperCase()).filter(s=>s))if(n.some(s=>s===i))return!0;return!1}Qe.checkBypass=ds});var _s=S(Xe=>{"use strict";var ag=require("net"),Pf=require("tls"),nn=require("http"),ps=require("https"),Tf=require("events"),cg=require("assert"),Rf=require("util");Xe.httpOverHttp=kf;Xe.httpsOverHttp=Cf;Xe.httpOverHttps=Af;Xe.httpsOverHttps=qf;function kf(t){var e=new Se(t);return e.request=nn.request,e}function Cf(t){var e=new Se(t);return e.request=nn.request,e.createSocket=ys,e.defaultPort=443,e}function Af(t){var e=new Se(t);return e.request=ps.request,e}function qf(t){var e=new Se(t);return e.request=ps.request,e.createSocket=ys,e.defaultPort=443,e}function Se(t){var e=this;e.options=t||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||nn.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",function(n,i,s,o){for(var a=gs(i,s,o),c=0,f=e.requests.length;c<f;++c){var h=e.requests[c];if(h.host===a.host&&h.port===a.port){e.requests.splice(c,1),h.request.onSocket(n);return}}n.destroy(),e.removeSocket(n)})}Rf.inherits(Se,Tf.EventEmitter);Se.prototype.addRequest=function(e,r,n,i){var s=this,o=sn({request:e},s.options,gs(r,n,i));if(s.sockets.length>=this.maxSockets){s.requests.push(o);return}s.createSocket(o,function(a){a.on("free",c),a.on("close",f),a.on("agentRemove",f),e.onSocket(a);function c(){s.emit("free",a,o)}function f(h){s.removeSocket(a),a.removeListener("free",c),a.removeListener("close",f),a.removeListener("agentRemove",f)}})};Se.prototype.createSocket=function(e,r){var n=this,i={};n.sockets.push(i);var s=sn({},n.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(s.localAddress=e.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),Re("making CONNECT request");var o=n.request(s);o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",c),o.once("connect",f),o.once("error",h),o.end();function a(p){p.upgrade=!0}function c(p,d,y){process.nextTick(function(){f(p,d,y)})}function f(p,d,y){if(o.removeAllListeners(),d.removeAllListeners(),p.statusCode!==200){Re("tunneling socket could not be established, statusCode=%d",p.statusCode),d.destroy();var g=new Error("tunneling socket could not be established, statusCode="+p.statusCode);g.code="ECONNRESET",e.request.emit("error",g),n.removeSocket(i);return}if(y.length>0){Re("got illegal response body from proxy"),d.destroy();var g=new Error("got illegal response body from proxy");g.code="ECONNRESET",e.request.emit("error",g),n.removeSocket(i);return}return Re("tunneling connection has established"),n.sockets[n.sockets.indexOf(i)]=d,r(d)}function h(p){o.removeAllListeners(),Re(`tunneling socket could not be established, cause=%s
`,p.message,p.stack);var d=new Error("tunneling socket could not be established, cause="+p.message);d.code="ECONNRESET",e.request.emit("error",d),n.removeSocket(i)}};Se.prototype.removeSocket=function(e){var r=this.sockets.indexOf(e);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(i){n.request.onSocket(i)})}};function ys(t,e){var r=this;Se.prototype.createSocket.call(r,t,function(n){var i=t.request.getHeader("host"),s=sn({},r.options,{socket:n,servername:i?i.replace(/:.*$/,""):t.host}),o=Pf.connect(0,s);r.sockets[r.sockets.indexOf(n)]=o,e(o)})}function gs(t,e,r){return typeof t=="string"?{host:t,port:e,localAddress:r}:t}function sn(t){for(var e=1,r=arguments.length;e<r;++e){var n=arguments[e];if(typeof n=="object")for(var i=Object.keys(n),s=0,o=i.length;s<o;++s){var a=i[s];n[a]!==void 0&&(t[a]=n[a])}}return t}var Re;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Re=function(){var t=Array.prototype.slice.call(arguments);typeof t[0]=="string"?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:Re=function(){};Xe.debug=Re});var bs=S((fg,ws)=>{ws.exports=_s()});var Es=S(C=>{"use strict";var jf=C&&C.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Df=C&&C.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),or=C&&C.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&jf(e,t,r);return Df(e,t),e},$=C&&C.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{f(n.next(h))}catch(p){o(p)}}function c(h){try{f(n.throw(h))}catch(p){o(p)}}function f(h){h.done?s(h.value):i(h.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};Object.defineProperty(C,"__esModule",{value:!0});C.HttpClient=C.isHttps=C.HttpClientResponse=C.HttpClientError=C.getProxyUrl=C.MediaTypes=C.Headers=C.HttpCodes=void 0;var rr=or(require("http")),on=or(require("https")),Ss=or(ms()),nr=or(bs()),pe;(function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"})(pe=C.HttpCodes||(C.HttpCodes={}));var Z;(function(t){t.Accept="accept",t.ContentType="content-type"})(Z=C.Headers||(C.Headers={}));var ke;(function(t){t.ApplicationJson="application/json"})(ke=C.MediaTypes||(C.MediaTypes={}));function If(t){let e=Ss.getProxyUrl(new URL(t));return e?e.href:""}C.getProxyUrl=If;var Nf=[pe.MovedPermanently,pe.ResourceMoved,pe.SeeOther,pe.TemporaryRedirect,pe.PermanentRedirect],Lf=[pe.BadGateway,pe.ServiceUnavailable,pe.GatewayTimeout],Ff=["OPTIONS","GET","DELETE","HEAD"],Uf=10,Hf=5,Ze=class extends Error{constructor(e,r){super(e),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Ze.prototype)}};C.HttpClientError=Ze;var sr=class{constructor(e){this.message=e}readBody(){return $(this,void 0,void 0,function*(){return new Promise(e=>$(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{e(r.toString())})}))})}};C.HttpClientResponse=sr;function $f(t){return new URL(t).protocol==="https:"}C.isHttps=$f;var an=class{constructor(e,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(e,r){return $(this,void 0,void 0,function*(){return this.request("OPTIONS",e,null,r||{})})}get(e,r){return $(this,void 0,void 0,function*(){return this.request("GET",e,null,r||{})})}del(e,r){return $(this,void 0,void 0,function*(){return this.request("DELETE",e,null,r||{})})}post(e,r,n){return $(this,void 0,void 0,function*(){return this.request("POST",e,r,n||{})})}patch(e,r,n){return $(this,void 0,void 0,function*(){return this.request("PATCH",e,r,n||{})})}put(e,r,n){return $(this,void 0,void 0,function*(){return this.request("PUT",e,r,n||{})})}head(e,r){return $(this,void 0,void 0,function*(){return this.request("HEAD",e,null,r||{})})}sendStream(e,r,n,i){return $(this,void 0,void 0,function*(){return this.request(e,r,n,i)})}getJson(e,r={}){return $(this,void 0,void 0,function*(){r[Z.Accept]=this._getExistingOrDefaultHeader(r,Z.Accept,ke.ApplicationJson);let n=yield this.get(e,r);return this._processResponse(n,this.requestOptions)})}postJson(e,r,n={}){return $(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[Z.Accept]=this._getExistingOrDefaultHeader(n,Z.Accept,ke.ApplicationJson),n[Z.ContentType]=this._getExistingOrDefaultHeader(n,Z.ContentType,ke.ApplicationJson);let s=yield this.post(e,i,n);return this._processResponse(s,this.requestOptions)})}putJson(e,r,n={}){return $(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[Z.Accept]=this._getExistingOrDefaultHeader(n,Z.Accept,ke.ApplicationJson),n[Z.ContentType]=this._getExistingOrDefaultHeader(n,Z.ContentType,ke.ApplicationJson);let s=yield this.put(e,i,n);return this._processResponse(s,this.requestOptions)})}patchJson(e,r,n={}){return $(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[Z.Accept]=this._getExistingOrDefaultHeader(n,Z.Accept,ke.ApplicationJson),n[Z.ContentType]=this._getExistingOrDefaultHeader(n,Z.ContentType,ke.ApplicationJson);let s=yield this.patch(e,i,n);return this._processResponse(s,this.requestOptions)})}request(e,r,n,i){return $(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),o=this._prepareRequest(e,s,i),a=this._allowRetries&&Ff.includes(e)?this._maxRetries+1:1,c=0,f;do{if(f=yield this.requestRaw(o,n),f&&f.message&&f.message.statusCode===pe.Unauthorized){let p;for(let d of this.handlers)if(d.canHandleAuthentication(f)){p=d;break}return p?p.handleAuthentication(this,o,n):f}let h=this._maxRedirects;for(;f.message.statusCode&&Nf.includes(f.message.statusCode)&&this._allowRedirects&&h>0;){let p=f.message.headers.location;if(!p)break;let d=new URL(p);if(s.protocol==="https:"&&s.protocol!==d.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield f.readBody(),d.hostname!==s.hostname)for(let y in i)y.toLowerCase()==="authorization"&&delete i[y];o=this._prepareRequest(e,d,i),f=yield this.requestRaw(o,n),h--}if(!f.message.statusCode||!Lf.includes(f.message.statusCode))return f;c+=1,c<a&&(yield f.readBody(),yield this._performExponentialBackoff(c))}while(c<a);return f})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,r){return $(this,void 0,void 0,function*(){return new Promise((n,i)=>{function s(o,a){o?i(o):a?n(a):i(new Error("Unknown error"))}this.requestRawWithCallback(e,r,s)})})}requestRawWithCallback(e,r,n){typeof r=="string"&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let i=!1;function s(c,f){i||(i=!0,n(c,f))}let o=e.httpModule.request(e.options,c=>{let f=new sr(c);s(void 0,f)}),a;o.on("socket",c=>{a=c}),o.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),s(new Error(`Request timeout: ${e.options.path}`))}),o.on("error",function(c){s(c)}),r&&typeof r=="string"&&o.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){o.end()}),r.pipe(o)):o.end()}getAgent(e){let r=new URL(e);return this._getAgent(r)}_prepareRequest(e,r,n){let i={};i.parsedUrl=r;let s=i.parsedUrl.protocol==="https:";i.httpModule=s?on:rr;let o=s?443:80;if(i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):o,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=e,i.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(i.options);return i}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},ir(this.requestOptions.headers),ir(e||{})):ir(e||{})}_getExistingOrDefaultHeader(e,r,n){let i;return this.requestOptions&&this.requestOptions.headers&&(i=ir(this.requestOptions.headers)[r]),e[r]||i||n}_getAgent(e){let r,n=Ss.getProxyUrl(e),i=n&&n.hostname;if(this._keepAlive&&i&&(r=this._proxyAgent),this._keepAlive&&!i&&(r=this._agent),r)return r;let s=e.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||rr.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},c,f=n.protocol==="https:";s?c=f?nr.httpsOverHttps:nr.httpsOverHttp:c=f?nr.httpOverHttps:nr.httpOverHttp,r=c(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:o};r=s?new on.Agent(a):new rr.Agent(a),this._agent=r}return r||(r=s?on.globalAgent:rr.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(e){return $(this,void 0,void 0,function*(){e=Math.min(Uf,e);let r=Hf*Math.pow(2,e);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(e,r){return $(this,void 0,void 0,function*(){return new Promise((n,i)=>$(this,void 0,void 0,function*(){let s=e.message.statusCode||0,o={statusCode:s,result:null,headers:{}};s===pe.NotFound&&n(o);function a(h,p){if(typeof p=="string"){let d=new Date(p);if(!isNaN(d.valueOf()))return d}return p}let c,f;try{f=yield e.readBody(),f&&f.length>0&&(r&&r.deserializeDates?c=JSON.parse(f,a):c=JSON.parse(f),o.result=c),o.headers=e.message.headers}catch{}if(s>299){let h;c&&c.message?h=c.message:f&&f.length>0?h=f:h=`Failed request: (${s})`;let p=new Ze(h,s);p.result=o.result,i(p)}else n(o)}))})}};C.HttpClient=an;var ir=t=>Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{})});var xs=S(be=>{"use strict";var hn=be&&be.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{f(n.next(h))}catch(p){o(p)}}function c(h){try{f(n.throw(h))}catch(p){o(p)}}function f(h){h.done?s(h.value):i(h.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};Object.defineProperty(be,"__esModule",{value:!0});be.PersonalAccessTokenCredentialHandler=be.BearerCredentialHandler=be.BasicCredentialHandler=void 0;var cn=class{constructor(e,r){this.username=e,this.password=r}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return hn(this,void 0,void 0,function*(){throw new Error("not implemented")})}};be.BasicCredentialHandler=cn;var un=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return hn(this,void 0,void 0,function*(){throw new Error("not implemented")})}};be.BearerCredentialHandler=un;var fn=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return hn(this,void 0,void 0,function*(){throw new Error("not implemented")})}};be.PersonalAccessTokenCredentialHandler=fn});var Ps=S(et=>{"use strict";var Os=et&&et.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{f(n.next(h))}catch(p){o(p)}}function c(h){try{f(n.throw(h))}catch(p){o(p)}}function f(h){h.done?s(h.value):i(h.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};Object.defineProperty(et,"__esModule",{value:!0});et.OidcClient=void 0;var Mf=Es(),Bf=xs(),vs=ln(),Ce=class{static createHttpClient(e=!0,r=10){let n={allowRetries:e,maxRetries:r};return new Mf.HttpClient("actions/oidc-client",[new Bf.BearerCredentialHandler(Ce.getRequestToken())],n)}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var r;return Os(this,void 0,void 0,function*(){let s=(r=(yield Ce.createHttpClient().getJson(e).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(e){return Os(this,void 0,void 0,function*(){try{let r=Ce.getIDTokenUrl();if(e){let i=encodeURIComponent(e);r=`${r}&audience=${i}`}vs.debug(`ID token url is ${r}`);let n=yield Ce.getCall(r);return vs.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};et.OidcClient=Ce});var yn=S(se=>{"use strict";var dn=se&&se.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{f(n.next(h))}catch(p){o(p)}}function c(h){try{f(n.throw(h))}catch(p){o(p)}}function f(h){h.done?s(h.value):i(h.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};Object.defineProperty(se,"__esModule",{value:!0});se.summary=se.markdownSummary=se.SUMMARY_DOCS_URL=se.SUMMARY_ENV_VAR=void 0;var zf=require("os"),mn=require("fs"),{access:Wf,appendFile:Vf,writeFile:Gf}=mn.promises;se.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";se.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var pn=class{constructor(){this._buffer=""}filePath(){return dn(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let e=process.env[se.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${se.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield Wf(e,mn.constants.R_OK|mn.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,r,n={}){let i=Object.entries(n).map(([s,o])=>` ${s}="${o}"`).join("");return r?`<${e}${i}>${r}</${e}>`:`<${e}${i}>`}write(e){return dn(this,void 0,void 0,function*(){let r=!!e?.overwrite,n=yield this.filePath();return yield(r?Gf:Vf)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return dn(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(e,r=!1){return this._buffer+=e,r?this.addEOL():this}addEOL(){return this.addRaw(zf.EOL)}addCodeBlock(e,r){let n=Object.assign({},r&&{lang:r}),i=this.wrap("pre",this.wrap("code",e),n);return this.addRaw(i).addEOL()}addList(e,r=!1){let n=r?"ol":"ul",i=e.map(o=>this.wrap("li",o)).join(""),s=this.wrap(n,i);return this.addRaw(s).addEOL()}addTable(e){let r=e.map(i=>{let s=i.map(o=>{if(typeof o=="string")return this.wrap("td",o);let{header:a,data:c,colspan:f,rowspan:h}=o,p=a?"th":"td",d=Object.assign(Object.assign({},f&&{colspan:f}),h&&{rowspan:h});return this.wrap(p,c,d)}).join("");return this.wrap("tr",s)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(e,r){let n=this.wrap("details",this.wrap("summary",e)+r);return this.addRaw(n).addEOL()}addImage(e,r,n){let{width:i,height:s}=n||{},o=Object.assign(Object.assign({},i&&{width:i}),s&&{height:s}),a=this.wrap("img",null,Object.assign({src:e,alt:r},o));return this.addRaw(a).addEOL()}addHeading(e,r){let n=`h${r}`,i=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",s=this.wrap(i,e);return this.addRaw(s).addEOL()}addSeparator(){let e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){let e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,r){let n=Object.assign({},r&&{cite:r}),i=this.wrap("blockquote",e,n);return this.addRaw(i).addEOL()}addLink(e,r){let n=this.wrap("a",e,{href:r});return this.addRaw(n).addEOL()}},Ts=new pn;se.markdownSummary=Ts;se.summary=Ts});var Rs=S(oe=>{"use strict";var Jf=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Kf=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Yf=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Jf(e,t,r);return Kf(e,t),e};Object.defineProperty(oe,"__esModule",{value:!0});oe.toPlatformPath=oe.toWin32Path=oe.toPosixPath=void 0;var Qf=Yf(require("path"));function Xf(t){return t.replace(/[\\]/g,"/")}oe.toPosixPath=Xf;function Zf(t){return t.replace(/[/]/g,"\\")}oe.toWin32Path=Zf;function eh(t){return t.replace(/[/\\]/g,Qf.sep)}oe.toPlatformPath=eh});var ln=S(O=>{"use strict";var th=O&&O.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rh=O&&O.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ks=O&&O.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&th(e,t,r);return rh(e,t),e},Cs=O&&O.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{f(n.next(h))}catch(p){o(p)}}function c(h){try{f(n.throw(h))}catch(p){o(p)}}function f(h){h.done?s(h.value):i(h.value).then(a,c)}f((n=n.apply(t,e||[])).next())})};Object.defineProperty(O,"__esModule",{value:!0});O.getIDToken=O.getState=O.saveState=O.group=O.endGroup=O.startGroup=O.info=O.notice=O.warning=O.error=O.debug=O.isDebug=O.setFailed=O.setCommandEcho=O.setOutput=O.getBooleanInput=O.getMultilineInput=O.getInput=O.addPath=O.setSecret=O.exportVariable=O.ExitCode=void 0;var le=Fi(),Me=ls(),tt=Qt(),As=ks(require("os")),nh=ks(require("path")),ih=Ps(),qs;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})(qs=O.ExitCode||(O.ExitCode={}));function sh(t,e){let r=tt.toCommandValue(e);if(process.env[t]=r,process.env.GITHUB_ENV||"")return Me.issueFileCommand("ENV",Me.prepareKeyValueMessage(t,e));le.issueCommand("set-env",{name:t},r)}O.exportVariable=sh;function oh(t){le.issueCommand("add-mask",{},t)}O.setSecret=oh;function ah(t){process.env.GITHUB_PATH||""?Me.issueFileCommand("PATH",t):le.issueCommand("add-path",{},t),process.env.PATH=`${t}${nh.delimiter}${process.env.PATH}`}O.addPath=ah;function gn(t,e){let r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r)throw new Error(`Input required and not supplied: ${t}`);return e&&e.trimWhitespace===!1?r:r.trim()}O.getInput=gn;function ch(t,e){let r=gn(t,e).split(`
`).filter(n=>n!=="");return e&&e.trimWhitespace===!1?r:r.map(n=>n.trim())}O.getMultilineInput=ch;function uh(t,e){let r=["true","True","TRUE"],n=["false","False","FALSE"],i=gn(t,e);if(r.includes(i))return!0;if(n.includes(i))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}O.getBooleanInput=uh;function fh(t,e){if(process.env.GITHUB_OUTPUT||"")return Me.issueFileCommand("OUTPUT",Me.prepareKeyValueMessage(t,e));process.stdout.write(As.EOL),le.issueCommand("set-output",{name:t},tt.toCommandValue(e))}O.setOutput=fh;function hh(t){le.issue("echo",t?"on":"off")}O.setCommandEcho=hh;function lh(t){process.exitCode=qs.Failure,js(t)}O.setFailed=lh;function dh(){return process.env.RUNNER_DEBUG==="1"}O.isDebug=dh;function mh(t){le.issueCommand("debug",{},t)}O.debug=mh;function js(t,e={}){le.issueCommand("error",tt.toCommandProperties(e),t instanceof Error?t.toString():t)}O.error=js;function ph(t,e={}){le.issueCommand("warning",tt.toCommandProperties(e),t instanceof Error?t.toString():t)}O.warning=ph;function yh(t,e={}){le.issueCommand("notice",tt.toCommandProperties(e),t instanceof Error?t.toString():t)}O.notice=yh;function gh(t){process.stdout.write(t+As.EOL)}O.info=gh;function Ds(t){le.issue("group",t)}O.startGroup=Ds;function Is(){le.issue("endgroup")}O.endGroup=Is;function _h(t,e){return Cs(this,void 0,void 0,function*(){Ds(t);let r;try{r=yield e()}finally{Is()}return r})}O.group=_h;function wh(t,e){if(process.env.GITHUB_STATE||"")return Me.issueFileCommand("STATE",Me.prepareKeyValueMessage(t,e));le.issueCommand("save-state",{name:t},tt.toCommandValue(e))}O.saveState=wh;function bh(t){return process.env[`STATE_${t}`]||""}O.getState=bh;function Sh(t){return Cs(this,void 0,void 0,function*(){return yield ih.OidcClient.getIDToken(t)})}O.getIDToken=Sh;var Eh=yn();Object.defineProperty(O,"summary",{enumerable:!0,get:function(){return Eh.summary}});var xh=yn();Object.defineProperty(O,"markdownSummary",{enumerable:!0,get:function(){return xh.markdownSummary}});var _n=Rs();Object.defineProperty(O,"toPosixPath",{enumerable:!0,get:function(){return _n.toPosixPath}});Object.defineProperty(O,"toWin32Path",{enumerable:!0,get:function(){return _n.toWin32Path}});Object.defineProperty(O,"toPlatformPath",{enumerable:!0,get:function(){return _n.toPlatformPath}})});var ae=S(wn=>{"use strict";wn.fromCallback=function(t){return Object.defineProperty(function(...e){if(typeof e[e.length-1]=="function")t.apply(this,e);else return new Promise((r,n)=>{t.call(this,...e,(i,s)=>i!=null?n(i):r(s))})},"name",{value:t.name})};wn.fromPromise=function(t){return Object.defineProperty(function(...e){let r=e[e.length-1];if(typeof r!="function")return t.apply(this,e);t.apply(this,e.slice(0,-1)).then(n=>r(null,n),r)},"name",{value:t.name})}});var Ls=S((_g,Ns)=>{var Ae=require("constants"),Oh=process.cwd,ar=null,vh=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return ar||(ar=Oh.call(process)),ar};try{process.cwd()}catch{}typeof process.chdir=="function"&&(bn=process.chdir,process.chdir=function(t){ar=null,bn.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,bn));var bn;Ns.exports=Ph;function Ph(t){Ae.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=c(t.statSync),t.fstatSync=c(t.fstatSync),t.lstatSync=c(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(h,p,d){d&&process.nextTick(d)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(h,p,d,y){y&&process.nextTick(y)},t.lchownSync=function(){}),vh==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:function(h){function p(d,y,g){var m=Date.now(),x=0;h(d,y,function w(P){if(P&&(P.code==="EACCES"||P.code==="EPERM")&&Date.now()-m<6e4){setTimeout(function(){t.stat(y,function(E,T){E&&E.code==="ENOENT"?h(d,y,w):g(P)})},x),x<100&&(x+=10);return}g&&g(P)})}return Object.setPrototypeOf&&Object.setPrototypeOf(p,h),p}(t.rename)),t.read=typeof t.read!="function"?t.read:function(h){function p(d,y,g,m,x,w){var P;if(w&&typeof w=="function"){var E=0;P=function(T,H,z){if(T&&T.code==="EAGAIN"&&E<10)return E++,h.call(t,d,y,g,m,x,P);w.apply(this,arguments)}}return h.call(t,d,y,g,m,x,P)}return Object.setPrototypeOf&&Object.setPrototypeOf(p,h),p}(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:function(h){return function(p,d,y,g,m){for(var x=0;;)try{return h.call(t,p,d,y,g,m)}catch(w){if(w.code==="EAGAIN"&&x<10){x++;continue}throw w}}}(t.readSync);function e(h){h.lchmod=function(p,d,y){h.open(p,Ae.O_WRONLY|Ae.O_SYMLINK,d,function(g,m){if(g){y&&y(g);return}h.fchmod(m,d,function(x){h.close(m,function(w){y&&y(x||w)})})})},h.lchmodSync=function(p,d){var y=h.openSync(p,Ae.O_WRONLY|Ae.O_SYMLINK,d),g=!0,m;try{m=h.fchmodSync(y,d),g=!1}finally{if(g)try{h.closeSync(y)}catch{}else h.closeSync(y)}return m}}function r(h){Ae.hasOwnProperty("O_SYMLINK")&&h.futimes?(h.lutimes=function(p,d,y,g){h.open(p,Ae.O_SYMLINK,function(m,x){if(m){g&&g(m);return}h.futimes(x,d,y,function(w){h.close(x,function(P){g&&g(w||P)})})})},h.lutimesSync=function(p,d,y){var g=h.openSync(p,Ae.O_SYMLINK),m,x=!0;try{m=h.futimesSync(g,d,y),x=!1}finally{if(x)try{h.closeSync(g)}catch{}else h.closeSync(g)}return m}):h.futimes&&(h.lutimes=function(p,d,y,g){g&&process.nextTick(g)},h.lutimesSync=function(){})}function n(h){return h&&function(p,d,y){return h.call(t,p,d,function(g){f(g)&&(g=null),y&&y.apply(this,arguments)})}}function i(h){return h&&function(p,d){try{return h.call(t,p,d)}catch(y){if(!f(y))throw y}}}function s(h){return h&&function(p,d,y,g){return h.call(t,p,d,y,function(m){f(m)&&(m=null),g&&g.apply(this,arguments)})}}function o(h){return h&&function(p,d,y){try{return h.call(t,p,d,y)}catch(g){if(!f(g))throw g}}}function a(h){return h&&function(p,d,y){typeof d=="function"&&(y=d,d=null);function g(m,x){x&&(x.uid<0&&(x.uid+=4294967296),x.gid<0&&(x.gid+=4294967296)),y&&y.apply(this,arguments)}return d?h.call(t,p,d,g):h.call(t,p,g)}}function c(h){return h&&function(p,d){var y=d?h.call(t,p,d):h.call(t,p);return y&&(y.uid<0&&(y.uid+=4294967296),y.gid<0&&(y.gid+=4294967296)),y}}function f(h){if(!h||h.code==="ENOSYS")return!0;var p=!process.getuid||process.getuid()!==0;return!!(p&&(h.code==="EINVAL"||h.code==="EPERM"))}}});var Hs=S((wg,Us)=>{var Fs=require("stream").Stream;Us.exports=Th;function Th(t){return{ReadStream:e,WriteStream:r};function e(n,i){if(!(this instanceof e))return new e(n,i);Fs.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,c=o.length;a<c;a++){var f=o[a];this[f]=i[f]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(h,p){if(h){s.emit("error",h),s.readable=!1;return}s.fd=p,s.emit("open",p),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);Fs.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var c=s[o];this[c]=i[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Ms=S((bg,$s)=>{"use strict";$s.exports=kh;var Rh=Object.getPrototypeOf||function(t){return t.__proto__};function kh(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:Rh(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var ce=S((Sg,xn)=>{var F=require("fs"),Ch=Ls(),Ah=Hs(),qh=Ms(),cr=require("util"),K,fr;typeof Symbol=="function"&&typeof Symbol.for=="function"?(K=Symbol.for("graceful-fs.queue"),fr=Symbol.for("graceful-fs.previous")):(K="___graceful-fs.queue",fr="___graceful-fs.previous");function jh(){}function Ws(t,e){Object.defineProperty(t,K,{get:function(){return e}})}var Be=jh;cr.debuglog?Be=cr.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Be=function(){var t=cr.format.apply(cr,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});F[K]||(Bs=global[K]||[],Ws(F,Bs),F.close=function(t){function e(r,n){return t.call(F,r,function(i){i||zs(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,fr,{value:t}),e}(F.close),F.closeSync=function(t){function e(r){t.apply(F,arguments),zs()}return Object.defineProperty(e,fr,{value:t}),e}(F.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Be(F[K]),require("assert").equal(F[K].length,0)}));var Bs;global[K]||Ws(global,F[K]);xn.exports=Sn(qh(F));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!F.__patched&&(xn.exports=Sn(F),F.__patched=!0);function Sn(t){Ch(t),t.gracefulify=Sn,t.createReadStream=H,t.createWriteStream=z;var e=t.readFile;t.readFile=r;function r(v,k,R){return typeof k=="function"&&(R=k,k=null),W(v,k,R);function W(V,M,N,U){return e(V,M,function(q){q&&(q.code==="EMFILE"||q.code==="ENFILE")?rt([W,[V,M,N],q,U||Date.now(),Date.now()]):typeof N=="function"&&N.apply(this,arguments)})}}var n=t.writeFile;t.writeFile=i;function i(v,k,R,W){return typeof R=="function"&&(W=R,R=null),V(v,k,R,W);function V(M,N,U,q,G){return n(M,N,U,function(D){D&&(D.code==="EMFILE"||D.code==="ENFILE")?rt([V,[M,N,U,q],D,G||Date.now(),Date.now()]):typeof q=="function"&&q.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=o);function o(v,k,R,W){return typeof R=="function"&&(W=R,R=null),V(v,k,R,W);function V(M,N,U,q,G){return s(M,N,U,function(D){D&&(D.code==="EMFILE"||D.code==="ENFILE")?rt([V,[M,N,U,q],D,G||Date.now(),Date.now()]):typeof q=="function"&&q.apply(this,arguments)})}}var a=t.copyFile;a&&(t.copyFile=c);function c(v,k,R,W){return typeof R=="function"&&(W=R,R=0),V(v,k,R,W);function V(M,N,U,q,G){return a(M,N,U,function(D){D&&(D.code==="EMFILE"||D.code==="ENFILE")?rt([V,[M,N,U,q],D,G||Date.now(),Date.now()]):typeof q=="function"&&q.apply(this,arguments)})}}var f=t.readdir;t.readdir=p;var h=/^v[0-5]\./;function p(v,k,R){typeof k=="function"&&(R=k,k=null);var W=h.test(process.version)?function(N,U,q,G){return f(N,V(N,U,q,G))}:function(N,U,q,G){return f(N,U,V(N,U,q,G))};return W(v,k,R);function V(M,N,U,q){return function(G,D){G&&(G.code==="EMFILE"||G.code==="ENFILE")?rt([W,[M,N,U],G,q||Date.now(),Date.now()]):(D&&D.sort&&D.sort(),typeof U=="function"&&U.call(this,G,D))}}}if(process.version.substr(0,4)==="v0.8"){var d=Ah(t);w=d.ReadStream,E=d.WriteStream}var y=t.ReadStream;y&&(w.prototype=Object.create(y.prototype),w.prototype.open=P);var g=t.WriteStream;g&&(E.prototype=Object.create(g.prototype),E.prototype.open=T),Object.defineProperty(t,"ReadStream",{get:function(){return w},set:function(v){w=v},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return E},set:function(v){E=v},enumerable:!0,configurable:!0});var m=w;Object.defineProperty(t,"FileReadStream",{get:function(){return m},set:function(v){m=v},enumerable:!0,configurable:!0});var x=E;Object.defineProperty(t,"FileWriteStream",{get:function(){return x},set:function(v){x=v},enumerable:!0,configurable:!0});function w(v,k){return this instanceof w?(y.apply(this,arguments),this):w.apply(Object.create(w.prototype),arguments)}function P(){var v=this;mt(v.path,v.flags,v.mode,function(k,R){k?(v.autoClose&&v.destroy(),v.emit("error",k)):(v.fd=R,v.emit("open",R),v.read())})}function E(v,k){return this instanceof E?(g.apply(this,arguments),this):E.apply(Object.create(E.prototype),arguments)}function T(){var v=this;mt(v.path,v.flags,v.mode,function(k,R){k?(v.destroy(),v.emit("error",k)):(v.fd=R,v.emit("open",R))})}function H(v,k){return new t.ReadStream(v,k)}function z(v,k){return new t.WriteStream(v,k)}var we=t.open;t.open=mt;function mt(v,k,R,W){return typeof R=="function"&&(W=R,R=null),V(v,k,R,W);function V(M,N,U,q,G){return we(M,N,U,function(D,_y){D&&(D.code==="EMFILE"||D.code==="ENFILE")?rt([V,[M,N,U,q],D,G||Date.now(),Date.now()]):typeof q=="function"&&q.apply(this,arguments)})}}return t}function rt(t){Be("ENQUEUE",t[0].name,t[1]),F[K].push(t),En()}var ur;function zs(){for(var t=Date.now(),e=0;e<F[K].length;++e)F[K][e].length>2&&(F[K][e][3]=t,F[K][e][4]=t);En()}function En(){if(clearTimeout(ur),ur=void 0,F[K].length!==0){var t=F[K].shift(),e=t[0],r=t[1],n=t[2],i=t[3],s=t[4];if(i===void 0)Be("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-i>=6e4){Be("TIMEOUT",e.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,c=Math.max(s-i,1),f=Math.min(c*1.2,100);a>=f?(Be("RETRY",e.name,r),e.apply(null,r.concat([i]))):F[K].push(t)}ur===void 0&&(ur=setTimeout(En,0))}}});var ze=S(Ee=>{"use strict";var Vs=ae().fromCallback,ee=ce(),Dh=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>typeof ee[t]=="function");Object.assign(Ee,ee);Dh.forEach(t=>{Ee[t]=Vs(ee[t])});Ee.exists=function(t,e){return typeof e=="function"?ee.exists(t,e):new Promise(r=>ee.exists(t,r))};Ee.read=function(t,e,r,n,i,s){return typeof s=="function"?ee.read(t,e,r,n,i,s):new Promise((o,a)=>{ee.read(t,e,r,n,i,(c,f,h)=>{if(c)return a(c);o({bytesRead:f,buffer:h})})})};Ee.write=function(t,e,...r){return typeof r[r.length-1]=="function"?ee.write(t,e,...r):new Promise((n,i)=>{ee.write(t,e,...r,(s,o,a)=>{if(s)return i(s);n({bytesWritten:o,buffer:a})})})};Ee.readv=function(t,e,...r){return typeof r[r.length-1]=="function"?ee.readv(t,e,...r):new Promise((n,i)=>{ee.readv(t,e,...r,(s,o,a)=>{if(s)return i(s);n({bytesRead:o,buffers:a})})})};Ee.writev=function(t,e,...r){return typeof r[r.length-1]=="function"?ee.writev(t,e,...r):new Promise((n,i)=>{ee.writev(t,e,...r,(s,o,a)=>{if(s)return i(s);n({bytesWritten:o,buffers:a})})})};typeof ee.realpath.native=="function"?Ee.realpath.native=Vs(ee.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var Js=S((xg,Gs)=>{"use strict";var Ih=require("path");Gs.exports.checkPath=function(e){if(process.platform==="win32"&&/[<>:"|?*]/.test(e.replace(Ih.parse(e).root,""))){let n=new Error(`Path contains invalid characters: ${e}`);throw n.code="EINVAL",n}}});var Xs=S((Og,On)=>{"use strict";var Ks=ze(),{checkPath:Ys}=Js(),Qs=t=>{let e={mode:511};return typeof t=="number"?t:{...e,...t}.mode};On.exports.makeDir=async(t,e)=>(Ys(t),Ks.mkdir(t,{mode:Qs(e),recursive:!0}));On.exports.makeDirSync=(t,e)=>(Ys(t),Ks.mkdirSync(t,{mode:Qs(e),recursive:!0}))});var ye=S((vg,Zs)=>{"use strict";var Nh=ae().fromPromise,{makeDir:Lh,makeDirSync:vn}=Xs(),Pn=Nh(Lh);Zs.exports={mkdirs:Pn,mkdirsSync:vn,mkdirp:Pn,mkdirpSync:vn,ensureDir:Pn,ensureDirSync:vn}});var qe=S((Pg,to)=>{"use strict";var Fh=ae().fromPromise,eo=ze();function Uh(t){return eo.access(t).then(()=>!0).catch(()=>!1)}to.exports={pathExists:Fh(Uh),pathExistsSync:eo.existsSync}});var Tn=S((Tg,ro)=>{"use strict";var nt=ce();function Hh(t,e,r,n){nt.open(t,"r+",(i,s)=>{if(i)return n(i);nt.futimes(s,e,r,o=>{nt.close(s,a=>{n&&n(o||a)})})})}function $h(t,e,r){let n=nt.openSync(t,"r+");return nt.futimesSync(n,e,r),nt.closeSync(n)}ro.exports={utimesMillis:Hh,utimesMillisSync:$h}});var We=S((Rg,so)=>{"use strict";var it=ze(),B=require("path"),Mh=require("util");function Bh(t,e,r){let n=r.dereference?i=>it.stat(i,{bigint:!0}):i=>it.lstat(i,{bigint:!0});return Promise.all([n(t),n(e).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,s])=>({srcStat:i,destStat:s}))}function zh(t,e,r){let n,i=r.dereference?o=>it.statSync(o,{bigint:!0}):o=>it.lstatSync(o,{bigint:!0}),s=i(t);try{n=i(e)}catch(o){if(o.code==="ENOENT")return{srcStat:s,destStat:null};throw o}return{srcStat:s,destStat:n}}function Wh(t,e,r,n,i){Mh.callbackify(Bh)(t,e,n,(s,o)=>{if(s)return i(s);let{srcStat:a,destStat:c}=o;if(c){if(_t(a,c)){let f=B.basename(t),h=B.basename(e);return r==="move"&&f!==h&&f.toLowerCase()===h.toLowerCase()?i(null,{srcStat:a,destStat:c,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(a.isDirectory()&&!c.isDirectory())return i(new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`));if(!a.isDirectory()&&c.isDirectory())return i(new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`))}return a.isDirectory()&&Rn(t,e)?i(new Error(hr(t,e,r))):i(null,{srcStat:a,destStat:c})})}function Vh(t,e,r,n){let{srcStat:i,destStat:s}=zh(t,e,n);if(s){if(_t(i,s)){let o=B.basename(t),a=B.basename(e);if(r==="move"&&o!==a&&o.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!i.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(i.isDirectory()&&Rn(t,e))throw new Error(hr(t,e,r));return{srcStat:i,destStat:s}}function no(t,e,r,n,i){let s=B.resolve(B.dirname(t)),o=B.resolve(B.dirname(r));if(o===s||o===B.parse(o).root)return i();it.stat(o,{bigint:!0},(a,c)=>a?a.code==="ENOENT"?i():i(a):_t(e,c)?i(new Error(hr(t,r,n))):no(t,e,o,n,i))}function io(t,e,r,n){let i=B.resolve(B.dirname(t)),s=B.resolve(B.dirname(r));if(s===i||s===B.parse(s).root)return;let o;try{o=it.statSync(s,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(_t(e,o))throw new Error(hr(t,r,n));return io(t,e,s,n)}function _t(t,e){return e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev}function Rn(t,e){let r=B.resolve(t).split(B.sep).filter(i=>i),n=B.resolve(e).split(B.sep).filter(i=>i);return r.reduce((i,s,o)=>i&&n[o]===s,!0)}function hr(t,e,r){return`Cannot ${r} '${t}' to a subdirectory of itself, '${e}'.`}so.exports={checkPaths:Wh,checkPathsSync:Vh,checkParentPaths:no,checkParentPathsSync:io,isSrcSubdir:Rn,areIdentical:_t}});var ho=S((kg,fo)=>{"use strict";var ue=ce(),wt=require("path"),Gh=ye().mkdirs,Jh=qe().pathExists,Kh=Tn().utimesMillis,bt=We();function Yh(t,e,r,n){typeof r=="function"&&!n?(n=r,r={}):typeof r=="function"&&(r={filter:r}),n=n||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),bt.checkPaths(t,e,"copy",r,(i,s)=>{if(i)return n(i);let{srcStat:o,destStat:a}=s;bt.checkParentPaths(t,o,e,"copy",c=>{if(c)return n(c);ao(t,e,r,(f,h)=>{if(f)return n(f);if(!h)return n();Qh(a,t,e,r,n)})})})}function Qh(t,e,r,n,i){let s=wt.dirname(r);Jh(s,(o,a)=>{if(o)return i(o);if(a)return kn(t,e,r,n,i);Gh(s,c=>c?i(c):kn(t,e,r,n,i))})}function ao(t,e,r,n){if(!r.filter)return n(null,!0);Promise.resolve(r.filter(t,e)).then(i=>n(null,i),i=>n(i))}function kn(t,e,r,n,i){(n.dereference?ue.stat:ue.lstat)(e,(o,a)=>o?i(o):a.isDirectory()?il(a,t,e,r,n,i):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?Xh(a,t,e,r,n,i):a.isSymbolicLink()?al(t,e,r,n,i):a.isSocket()?i(new Error(`Cannot copy a socket file: ${e}`)):a.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${e}`)):i(new Error(`Unknown file: ${e}`)))}function Xh(t,e,r,n,i,s){return e?Zh(t,r,n,i,s):co(t,r,n,i,s)}function Zh(t,e,r,n,i){if(n.overwrite)ue.unlink(r,s=>s?i(s):co(t,e,r,n,i));else return n.errorOnExist?i(new Error(`'${r}' already exists`)):i()}function co(t,e,r,n,i){ue.copyFile(e,r,s=>s?i(s):n.preserveTimestamps?el(t.mode,e,r,i):lr(r,t.mode,i))}function el(t,e,r,n){return tl(t)?rl(r,t,i=>i?n(i):oo(t,e,r,n)):oo(t,e,r,n)}function tl(t){return(t&128)===0}function rl(t,e,r){return lr(t,e|128,r)}function oo(t,e,r,n){nl(e,r,i=>i?n(i):lr(r,t,n))}function lr(t,e,r){return ue.chmod(t,e,r)}function nl(t,e,r){ue.stat(t,(n,i)=>n?r(n):Kh(e,i.atime,i.mtime,r))}function il(t,e,r,n,i,s){return e?uo(r,n,i,s):sl(t.mode,r,n,i,s)}function sl(t,e,r,n,i){ue.mkdir(r,s=>{if(s)return i(s);uo(e,r,n,o=>o?i(o):lr(r,t,i))})}function uo(t,e,r,n){ue.readdir(t,(i,s)=>i?n(i):Cn(s,t,e,r,n))}function Cn(t,e,r,n,i){let s=t.pop();return s?ol(t,s,e,r,n,i):i()}function ol(t,e,r,n,i,s){let o=wt.join(r,e),a=wt.join(n,e);ao(o,a,i,(c,f)=>{if(c)return s(c);if(!f)return Cn(t,r,n,i,s);bt.checkPaths(o,a,"copy",i,(h,p)=>{if(h)return s(h);let{destStat:d}=p;kn(d,o,a,i,y=>y?s(y):Cn(t,r,n,i,s))})})}function al(t,e,r,n,i){ue.readlink(e,(s,o)=>{if(s)return i(s);if(n.dereference&&(o=wt.resolve(process.cwd(),o)),t)ue.readlink(r,(a,c)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?ue.symlink(o,r,i):i(a):(n.dereference&&(c=wt.resolve(process.cwd(),c)),bt.isSrcSubdir(o,c)?i(new Error(`Cannot copy '${o}' to a subdirectory of itself, '${c}'.`)):bt.isSrcSubdir(c,o)?i(new Error(`Cannot overwrite '${c}' with '${o}'.`)):cl(o,r,i)));else return ue.symlink(o,r,i)})}function cl(t,e,r){ue.unlink(e,n=>n?r(n):ue.symlink(t,e,r))}fo.exports=Yh});var go=S((Cg,yo)=>{"use strict";var te=ce(),St=require("path"),ul=ye().mkdirsSync,fl=Tn().utimesMillisSync,Et=We();function hl(t,e,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:n,destStat:i}=Et.checkPathsSync(t,e,"copy",r);if(Et.checkParentPathsSync(t,n,e,"copy"),r.filter&&!r.filter(t,e))return;let s=St.dirname(e);return te.existsSync(s)||ul(s),lo(i,t,e,r)}function lo(t,e,r,n){let s=(n.dereference?te.statSync:te.lstatSync)(e);if(s.isDirectory())return _l(s,t,e,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return ll(s,t,e,r,n);if(s.isSymbolicLink())return Sl(t,e,r,n);throw s.isSocket()?new Error(`Cannot copy a socket file: ${e}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${e}`):new Error(`Unknown file: ${e}`)}function ll(t,e,r,n,i){return e?dl(t,r,n,i):mo(t,r,n,i)}function dl(t,e,r,n){if(n.overwrite)return te.unlinkSync(r),mo(t,e,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function mo(t,e,r,n){return te.copyFileSync(e,r),n.preserveTimestamps&&ml(t.mode,e,r),An(r,t.mode)}function ml(t,e,r){return pl(t)&&yl(r,t),gl(e,r)}function pl(t){return(t&128)===0}function yl(t,e){return An(t,e|128)}function An(t,e){return te.chmodSync(t,e)}function gl(t,e){let r=te.statSync(t);return fl(e,r.atime,r.mtime)}function _l(t,e,r,n,i){return e?po(r,n,i):wl(t.mode,r,n,i)}function wl(t,e,r,n){return te.mkdirSync(r),po(e,r,n),An(r,t)}function po(t,e,r){te.readdirSync(t).forEach(n=>bl(n,t,e,r))}function bl(t,e,r,n){let i=St.join(e,t),s=St.join(r,t);if(n.filter&&!n.filter(i,s))return;let{destStat:o}=Et.checkPathsSync(i,s,"copy",n);return lo(o,i,s,n)}function Sl(t,e,r,n){let i=te.readlinkSync(e);if(n.dereference&&(i=St.resolve(process.cwd(),i)),t){let s;try{s=te.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return te.symlinkSync(i,r);throw o}if(n.dereference&&(s=St.resolve(process.cwd(),s)),Et.isSrcSubdir(i,s))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${s}'.`);if(Et.isSrcSubdir(s,i))throw new Error(`Cannot overwrite '${s}' with '${i}'.`);return El(i,r)}else return te.symlinkSync(i,r)}function El(t,e){return te.unlinkSync(e),te.symlinkSync(t,e)}yo.exports=hl});var dr=S((Ag,_o)=>{"use strict";var xl=ae().fromCallback;_o.exports={copy:xl(ho()),copySync:go()}});var xt=S((qg,bo)=>{"use strict";var wo=ce(),Ol=ae().fromCallback;function vl(t,e){wo.rm(t,{recursive:!0,force:!0},e)}function Pl(t){wo.rmSync(t,{recursive:!0,force:!0})}bo.exports={remove:Ol(vl),removeSync:Pl}});var Ro=S((jg,To)=>{"use strict";var Tl=ae().fromPromise,xo=ze(),Oo=require("path"),vo=ye(),Po=xt(),So=Tl(async function(e){let r;try{r=await xo.readdir(e)}catch{return vo.mkdirs(e)}return Promise.all(r.map(n=>Po.remove(Oo.join(e,n))))});function Eo(t){let e;try{e=xo.readdirSync(t)}catch{return vo.mkdirsSync(t)}e.forEach(r=>{r=Oo.join(t,r),Po.removeSync(r)})}To.exports={emptyDirSync:Eo,emptydirSync:Eo,emptyDir:So,emptydir:So}});var qo=S((Dg,Ao)=>{"use strict";var Rl=ae().fromCallback,ko=require("path"),je=ce(),Co=ye();function kl(t,e){function r(){je.writeFile(t,"",n=>{if(n)return e(n);e()})}je.stat(t,(n,i)=>{if(!n&&i.isFile())return e();let s=ko.dirname(t);je.stat(s,(o,a)=>{if(o)return o.code==="ENOENT"?Co.mkdirs(s,c=>{if(c)return e(c);r()}):e(o);a.isDirectory()?r():je.readdir(s,c=>{if(c)return e(c)})})})}function Cl(t){let e;try{e=je.statSync(t)}catch{}if(e&&e.isFile())return;let r=ko.dirname(t);try{je.statSync(r).isDirectory()||je.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")Co.mkdirsSync(r);else throw n}je.writeFileSync(t,"")}Ao.exports={createFile:Rl(kl),createFileSync:Cl}});var Lo=S((Ig,No)=>{"use strict";var Al=ae().fromCallback,jo=require("path"),De=ce(),Do=ye(),ql=qe().pathExists,{areIdentical:Io}=We();function jl(t,e,r){function n(i,s){De.link(i,s,o=>{if(o)return r(o);r(null)})}De.lstat(e,(i,s)=>{De.lstat(t,(o,a)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),r(o);if(s&&Io(a,s))return r(null);let c=jo.dirname(e);ql(c,(f,h)=>{if(f)return r(f);if(h)return n(t,e);Do.mkdirs(c,p=>{if(p)return r(p);n(t,e)})})})})}function Dl(t,e){let r;try{r=De.lstatSync(e)}catch{}try{let s=De.lstatSync(t);if(r&&Io(s,r))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}let n=jo.dirname(e);return De.existsSync(n)||Do.mkdirsSync(n),De.linkSync(t,e)}No.exports={createLink:Al(jl),createLinkSync:Dl}});var Uo=S((Ng,Fo)=>{"use strict";var Ie=require("path"),Ot=ce(),Il=qe().pathExists;function Nl(t,e,r){if(Ie.isAbsolute(t))return Ot.lstat(t,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),r(n)):r(null,{toCwd:t,toDst:t}));{let n=Ie.dirname(e),i=Ie.join(n,t);return Il(i,(s,o)=>s?r(s):o?r(null,{toCwd:i,toDst:t}):Ot.lstat(t,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),r(a)):r(null,{toCwd:t,toDst:Ie.relative(n,t)})))}}function Ll(t,e){let r;if(Ie.isAbsolute(t)){if(r=Ot.existsSync(t),!r)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}else{let n=Ie.dirname(e),i=Ie.join(n,t);if(r=Ot.existsSync(i),r)return{toCwd:i,toDst:t};if(r=Ot.existsSync(t),!r)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:Ie.relative(n,t)}}}Fo.exports={symlinkPaths:Nl,symlinkPathsSync:Ll}});var Mo=S((Lg,$o)=>{"use strict";var Ho=ce();function Fl(t,e,r){if(r=typeof e=="function"?e:r,e=typeof e=="function"?!1:e,e)return r(null,e);Ho.lstat(t,(n,i)=>{if(n)return r(null,"file");e=i&&i.isDirectory()?"dir":"file",r(null,e)})}function Ul(t,e){let r;if(e)return e;try{r=Ho.lstatSync(t)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}$o.exports={symlinkType:Fl,symlinkTypeSync:Ul}});var Yo=S((Fg,Ko)=>{"use strict";var Hl=ae().fromCallback,zo=require("path"),ge=ze(),Wo=ye(),$l=Wo.mkdirs,Ml=Wo.mkdirsSync,Vo=Uo(),Bl=Vo.symlinkPaths,zl=Vo.symlinkPathsSync,Go=Mo(),Wl=Go.symlinkType,Vl=Go.symlinkTypeSync,Gl=qe().pathExists,{areIdentical:Jo}=We();function Jl(t,e,r,n){n=typeof r=="function"?r:n,r=typeof r=="function"?!1:r,ge.lstat(e,(i,s)=>{!i&&s.isSymbolicLink()?Promise.all([ge.stat(t),ge.stat(e)]).then(([o,a])=>{if(Jo(o,a))return n(null);Bo(t,e,r,n)}):Bo(t,e,r,n)})}function Bo(t,e,r,n){Bl(t,e,(i,s)=>{if(i)return n(i);t=s.toDst,Wl(s.toCwd,r,(o,a)=>{if(o)return n(o);let c=zo.dirname(e);Gl(c,(f,h)=>{if(f)return n(f);if(h)return ge.symlink(t,e,a,n);$l(c,p=>{if(p)return n(p);ge.symlink(t,e,a,n)})})})})}function Kl(t,e,r){let n;try{n=ge.lstatSync(e)}catch{}if(n&&n.isSymbolicLink()){let a=ge.statSync(t),c=ge.statSync(e);if(Jo(a,c))return}let i=zl(t,e);t=i.toDst,r=Vl(i.toCwd,r);let s=zo.dirname(e);return ge.existsSync(s)||Ml(s),ge.symlinkSync(t,e,r)}Ko.exports={createSymlink:Hl(Jl),createSymlinkSync:Kl}});var ia=S((Ug,na)=>{"use strict";var{createFile:Qo,createFileSync:Xo}=qo(),{createLink:Zo,createLinkSync:ea}=Lo(),{createSymlink:ta,createSymlinkSync:ra}=Yo();na.exports={createFile:Qo,createFileSync:Xo,ensureFile:Qo,ensureFileSync:Xo,createLink:Zo,createLinkSync:ea,ensureLink:Zo,ensureLinkSync:ea,createSymlink:ta,createSymlinkSync:ra,ensureSymlink:ta,ensureSymlinkSync:ra}});var mr=S((Hg,sa)=>{function Yl(t,{EOL:e=`
`,finalEOL:r=!0,replacer:n=null,spaces:i}={}){let s=r?e:"";return JSON.stringify(t,n,i).replace(/\n/g,e)+s}function Ql(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}sa.exports={stringify:Yl,stripBom:Ql}});var ua=S(($g,ca)=>{var st;try{st=ce()}catch{st=require("fs")}var pr=ae(),{stringify:oa,stripBom:aa}=mr();async function Xl(t,e={}){typeof e=="string"&&(e={encoding:e});let r=e.fs||st,n="throws"in e?e.throws:!0,i=await pr.fromCallback(r.readFile)(t,e);i=aa(i);let s;try{s=JSON.parse(i,e?e.reviver:null)}catch(o){if(n)throw o.message=`${t}: ${o.message}`,o;return null}return s}var Zl=pr.fromPromise(Xl);function ed(t,e={}){typeof e=="string"&&(e={encoding:e});let r=e.fs||st,n="throws"in e?e.throws:!0;try{let i=r.readFileSync(t,e);return i=aa(i),JSON.parse(i,e.reviver)}catch(i){if(n)throw i.message=`${t}: ${i.message}`,i;return null}}async function td(t,e,r={}){let n=r.fs||st,i=oa(e,r);await pr.fromCallback(n.writeFile)(t,i,r)}var rd=pr.fromPromise(td);function nd(t,e,r={}){let n=r.fs||st,i=oa(e,r);return n.writeFileSync(t,i,r)}var id={readFile:Zl,readFileSync:ed,writeFile:rd,writeFileSync:nd};ca.exports=id});var ha=S((Mg,fa)=>{"use strict";var yr=ua();fa.exports={readJson:yr.readFile,readJsonSync:yr.readFileSync,writeJson:yr.writeFile,writeJsonSync:yr.writeFileSync}});var gr=S((Bg,ma)=>{"use strict";var sd=ae().fromCallback,vt=ce(),la=require("path"),da=ye(),od=qe().pathExists;function ad(t,e,r,n){typeof r=="function"&&(n=r,r="utf8");let i=la.dirname(t);od(i,(s,o)=>{if(s)return n(s);if(o)return vt.writeFile(t,e,r,n);da.mkdirs(i,a=>{if(a)return n(a);vt.writeFile(t,e,r,n)})})}function cd(t,...e){let r=la.dirname(t);if(vt.existsSync(r))return vt.writeFileSync(t,...e);da.mkdirsSync(r),vt.writeFileSync(t,...e)}ma.exports={outputFile:sd(ad),outputFileSync:cd}});var ya=S((zg,pa)=>{"use strict";var{stringify:ud}=mr(),{outputFile:fd}=gr();async function hd(t,e,r={}){let n=ud(e,r);await fd(t,n,r)}pa.exports=hd});var _a=S((Wg,ga)=>{"use strict";var{stringify:ld}=mr(),{outputFileSync:dd}=gr();function md(t,e,r){let n=ld(e,r);dd(t,n,r)}ga.exports=md});var ba=S((Vg,wa)=>{"use strict";var pd=ae().fromPromise,re=ha();re.outputJson=pd(ya());re.outputJsonSync=_a();re.outputJSON=re.outputJson;re.outputJSONSync=re.outputJsonSync;re.writeJSON=re.writeJson;re.writeJSONSync=re.writeJsonSync;re.readJSON=re.readJson;re.readJSONSync=re.readJsonSync;wa.exports=re});var va=S((Gg,Oa)=>{"use strict";var yd=ce(),jn=require("path"),gd=dr().copy,xa=xt().remove,_d=ye().mkdirp,wd=qe().pathExists,Sa=We();function bd(t,e,r,n){typeof r=="function"&&(n=r,r={}),r=r||{};let i=r.overwrite||r.clobber||!1;Sa.checkPaths(t,e,"move",r,(s,o)=>{if(s)return n(s);let{srcStat:a,isChangingCase:c=!1}=o;Sa.checkParentPaths(t,a,e,"move",f=>{if(f)return n(f);if(Sd(e))return Ea(t,e,i,c,n);_d(jn.dirname(e),h=>h?n(h):Ea(t,e,i,c,n))})})}function Sd(t){let e=jn.dirname(t);return jn.parse(e).root===e}function Ea(t,e,r,n,i){if(n)return qn(t,e,r,i);if(r)return xa(e,s=>s?i(s):qn(t,e,r,i));wd(e,(s,o)=>s?i(s):o?i(new Error("dest already exists.")):qn(t,e,r,i))}function qn(t,e,r,n){yd.rename(t,e,i=>i?i.code!=="EXDEV"?n(i):Ed(t,e,r,n):n())}function Ed(t,e,r,n){gd(t,e,{overwrite:r,errorOnExist:!0},s=>s?n(s):xa(t,n))}Oa.exports=bd});var Ca=S((Jg,ka)=>{"use strict";var Ta=ce(),In=require("path"),xd=dr().copySync,Ra=xt().removeSync,Od=ye().mkdirpSync,Pa=We();function vd(t,e,r){r=r||{};let n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:s=!1}=Pa.checkPathsSync(t,e,"move",r);return Pa.checkParentPathsSync(t,i,e,"move"),Pd(e)||Od(In.dirname(e)),Td(t,e,n,s)}function Pd(t){let e=In.dirname(t);return In.parse(e).root===e}function Td(t,e,r,n){if(n)return Dn(t,e,r);if(r)return Ra(e),Dn(t,e,r);if(Ta.existsSync(e))throw new Error("dest already exists.");return Dn(t,e,r)}function Dn(t,e,r){try{Ta.renameSync(t,e)}catch(n){if(n.code!=="EXDEV")throw n;return Rd(t,e,r)}}function Rd(t,e,r){return xd(t,e,{overwrite:r,errorOnExist:!0}),Ra(t)}ka.exports=vd});var qa=S((Kg,Aa)=>{"use strict";var kd=ae().fromCallback;Aa.exports={move:kd(va()),moveSync:Ca()}});var Da=S((Yg,ja)=>{"use strict";ja.exports={...ze(),...dr(),...Ro(),...ia(),...ba(),...ye(),...qa(),...gr(),...qe(),...xt()}});var Fa=S((Fn,Un)=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});function Bd(t){return t.encrypted}var Ln=(t,e)=>{let r;typeof e=="function"?r={connect:e}:r=e;let n=typeof r.connect=="function",i=typeof r.secureConnect=="function",s=typeof r.close=="function",o=()=>{n&&r.connect(),Bd(t)&&i&&(t.authorized?r.secureConnect():t.authorizationError||t.once("secureConnect",r.secureConnect)),s&&t.once("close",r.close)};t.writable&&!t.connecting?o():t.connecting?t.once("connect",o):t.destroyed&&s&&r.close(t._hadError)};Fn.default=Ln;Un.exports=Ln;Un.exports.default=Ln});var za=S((n_,Ba)=>{"use strict";var{PassThrough:Yd}=require("stream");Ba.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,n=r==="buffer",i=!1;e?i=!(r||n):r=r||"utf8",n&&(r=null);let s=new Yd({objectMode:i});r&&s.setEncoding(r);let o=0,a=[];return s.on("data",c=>{a.push(c),i?o=a.length:o+=c.length}),s.getBufferedValue=()=>e?a:n?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s}});var Bn=S((i_,kt)=>{"use strict";var{constants:Qd}=require("buffer"),Xd=require("stream"),{promisify:Zd}=require("util"),em=za(),tm=Zd(Xd.pipeline),xr=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Mn(t,e){if(!t)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,n=em(e);return await new Promise((i,s)=>{let o=a=>{a&&n.getBufferedLength()<=Qd.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),s(a)};(async()=>{try{await tm(t,n),i()}catch(a){o(a)}})(),n.on("data",()=>{n.getBufferedLength()>r&&o(new xr)})}),n.getBufferedValue()}kt.exports=Mn;kt.exports.buffer=(t,e)=>Mn(t,{...e,encoding:"buffer"});kt.exports.array=(t,e)=>Mn(t,{...e,array:!0});kt.exports.MaxBufferError=xr});var Va=S((o_,Wa)=>{"use strict";var rm=new Set([200,203,204,206,300,301,404,405,410,414,501]),nm=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),im=new Set([500,502,503,504]),sm={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},om={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function Ve(t){let e=parseInt(t,10);return isFinite(e)?e:0}function am(t){return t?im.has(t.status):!0}function zn(t){let e={};if(!t)return e;let r=t.trim().split(/\s*,\s*/);for(let n of r){let[i,s]=n.split(/\s*=\s*/,2);e[i]=s===void 0?!0:s.replace(/^"|"$/g,"")}return e}function cm(t){let e=[];for(let r in t){let n=t[r];e.push(n===!0?r:r+"="+n)}if(e.length)return e.join(", ")}Wa.exports=class{constructor(e,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:s,ignoreCargoCult:o,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=s!==void 0?s:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=zn(r.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=r.headers.vary?e.headers:null,this._reqcc=zn(e.headers["cache-control"]),o&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":cm(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&nm.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||rm.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let r=zn(e.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(e.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,r){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||r&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(e.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(e){let r={};for(let n in e)sm[n]||(r[n]=e[n]);if(e.connection){let n=e.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(r)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return e+r}_ageValue(){return Ve(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return Ve(this._rescc["s-maxage"])}if(this._rescc["max-age"])return Ve(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(e,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(e,(r-n)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),r=e+Ve(this._rescc["stale-if-error"]),n=e+Ve(this._rescc["stale-while-revalidate"]);return Math.max(0,e,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+Ve(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+Ve(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let r=this._copyWithoutHopByHopHeaders(e.headers);if(delete r["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(s=>!/^\s*W\//.test(s));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(e,r){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&am(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(e,r),modified:r.status!=304,matches:!1};let i={};for(let o in this._resHeaders)i[o]=o in r.headers&&!om[o]?r.headers[o]:this._resHeaders[o];let s=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(e,s,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var Ja=S(Wn=>{Wn.stringify=function t(e){if(typeof e>"u")return e;if(e&&Buffer.isBuffer(e))return JSON.stringify(":base64:"+e.toString("base64"));if(e&&e.toJSON&&(e=e.toJSON()),e&&typeof e=="object"){var r="",n=Array.isArray(e);r=n?"[":"{";var i=!0;for(var s in e){var o=typeof e[s]=="function"||!n&&typeof e[s]>"u";Object.hasOwnProperty.call(e,s)&&!o&&(i||(r+=","),i=!1,n?e[s]==null?r+="null":r+=t(e[s]):e[s]!==void 0&&(r+=t(s)+":"+t(e[s])))}return r+=n?"]":"}",r}else return typeof e=="string"?JSON.stringify(/^:/.test(e)?":"+e:e):typeof e>"u"?"null":JSON.stringify(e)};Wn.parse=function(t){return JSON.parse(t,function(e,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}});var Xa=S((h_,Qa)=>{"use strict";var um=require("events"),Ka=Ja(),fm=t=>{let e={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(t.adapter||t.uri){let r=t.adapter||/^[^:+]*/.exec(t.uri)[0];return new(require(e[r]))(t)}return new Map},Ya=["sqlite","postgres","mysql","mongo","redis","tiered"],Vn=class extends um{constructor(e,{emitErrors:r=!0,...n}={}){if(super(),this.opts={namespace:"keyv",serialize:Ka.stringify,deserialize:Ka.parse,...typeof e=="string"?{uri:e}:e,...n},!this.opts.store){let s={...this.opts};this.opts.store=fm(s)}if(this.opts.compression){let s=this.opts.compression;this.opts.serialize=s.serialize.bind(s),this.opts.deserialize=s.deserialize.bind(s)}typeof this.opts.store.on=="function"&&r&&this.opts.store.on("error",s=>this.emit("error",s)),this.opts.store.namespace=this.opts.namespace;let i=s=>async function*(){for await(let[o,a]of typeof s=="function"?s(this.opts.store.namespace):s){let c=this.opts.deserialize(a);if(!(this.opts.store.namespace&&!o.includes(this.opts.store.namespace))){if(typeof c.expires=="number"&&Date.now()>c.expires){this.delete(o);continue}yield[this._getKeyUnprefix(o),c.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=i(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=i(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return Ya.includes(this.opts.store.opts.dialect)||Ya.findIndex(e=>this.opts.store.opts.url.includes(e))>=0}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}_getKeyPrefixArray(e){return e.map(r=>`${this.opts.namespace}:${r}`)}_getKeyUnprefix(e){return e.split(":").splice(1).join(":")}get(e,r){let{store:n}=this.opts,i=Array.isArray(e),s=i?this._getKeyPrefixArray(e):this._getKeyPrefix(e);if(i&&n.getMany===void 0){let o=[];for(let a of s)o.push(Promise.resolve().then(()=>n.get(a)).then(c=>typeof c=="string"?this.opts.deserialize(c):this.opts.compression?this.opts.deserialize(c):c).then(c=>{if(c!=null)return typeof c.expires=="number"&&Date.now()>c.expires?this.delete(a).then(()=>{}):r&&r.raw?c:c.value}));return Promise.allSettled(o).then(a=>{let c=[];for(let f of a)c.push(f.value);return c})}return Promise.resolve().then(()=>i?n.getMany(s):n.get(s)).then(o=>typeof o=="string"?this.opts.deserialize(o):this.opts.compression?this.opts.deserialize(o):o).then(o=>{if(o!=null){if(i){let a=[];for(let c of o){if(typeof c=="string"&&(c=this.opts.deserialize(c)),c==null){a.push(void 0);continue}typeof c.expires=="number"&&Date.now()>c.expires?(this.delete(e).then(()=>{}),a.push(void 0)):a.push(r&&r.raw?c:c.value)}return a}return typeof o.expires=="number"&&Date.now()>o.expires?this.delete(e).then(()=>{}):r&&r.raw?o:o.value}})}set(e,r,n){let i=this._getKeyPrefix(e);typeof n>"u"&&(n=this.opts.ttl),n===0&&(n=void 0);let{store:s}=this.opts;return Promise.resolve().then(()=>{let o=typeof n=="number"?Date.now()+n:null;return typeof r=="symbol"&&this.emit("error","symbol cannot be serialized"),r={value:r,expires:o},this.opts.serialize(r)}).then(o=>s.set(i,o,n)).then(()=>!0)}delete(e){let{store:r}=this.opts;if(Array.isArray(e)){let i=this._getKeyPrefixArray(e);if(r.deleteMany===void 0){let s=[];for(let o of i)s.push(r.delete(o));return Promise.allSettled(s).then(o=>o.every(a=>a.value===!0))}return Promise.resolve().then(()=>r.deleteMany(i))}let n=this._getKeyPrefix(e);return Promise.resolve().then(()=>r.delete(n))}clear(){let{store:e}=this.opts;return Promise.resolve().then(()=>e.clear())}has(e){let r=this._getKeyPrefix(e),{store:n}=this.opts;return Promise.resolve().then(async()=>typeof n.has=="function"?n.has(r):await n.get(r)!==void 0)}disconnect(){let{store:e}=this.opts;if(typeof e.disconnect=="function")return e.disconnect()}};Qa.exports=Vn});var sc=S((b_,ic)=>{"use strict";var pm=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];ic.exports=(t,e)=>{if(e._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set(Object.keys(t).concat(pm)),n={};for(let i of r)i in e||(n[i]={get(){let s=t[i];return typeof s=="function"?s.bind(t):s},set(s){t[i]=s},enumerable:!0,configurable:!1});return Object.defineProperties(e,n),t.once("aborted",()=>{e.destroy(),e.emit("aborted")}),t.once("close",()=>{t.complete&&e.readable?e.once("end",()=>{e.emit("close")}):e.emit("close")}),e}});var ac=S((S_,oc)=>{"use strict";var{Transform:ym,PassThrough:gm}=require("stream"),Yn=require("zlib"),_m=sc();oc.exports=t=>{let e=(t.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(e))return t;let r=e==="br";if(r&&typeof Yn.createBrotliDecompress!="function")return t.destroy(new Error("Brotli is not supported on Node.js < 12")),t;let n=!0,i=new ym({transform(a,c,f){n=!1,f(null,a)},flush(a){a()}}),s=new gm({autoDestroy:!1,destroy(a,c){t.destroy(),c(a)}}),o=r?Yn.createBrotliDecompress():Yn.createUnzip();return o.once("error",a=>{if(n&&!t.readable){s.end();return}s.destroy(a)}),_m(t,s),t.pipe(i).pipe(o).pipe(s),s}});var ai=S((nw,vc)=>{"use strict";var oi=class{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,r){if(this.cache.set(e,r),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[n,i]of this.oldCache.entries())this.onEviction(n,i);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){let r=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,r),r}}set(e,r){return this.cache.has(e)?this.cache.set(e,r):this._set(e,r),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){let r=this.cache.delete(e);return r&&this._size--,this.oldCache.delete(e)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache)yield e;for(let e of this.oldCache){let[r]=e;this.cache.has(r)||(yield e)}}get size(){let e=0;for(let r of this.oldCache.keys())this.cache.has(r)||e++;return Math.min(this._size+e,this.maxSize)}};vc.exports=oi});var ci=S((iw,Pc)=>{"use strict";Pc.exports=t=>{if(t.listenerCount("error")!==0)return t;t.__destroy=t._destroy,t._destroy=(...r)=>{let n=r.pop();t.__destroy(...r,async i=>{await Promise.resolve(),n(i)})};let e=r=>{Promise.resolve().then(()=>{t.emit("error",r)})};return t.once("error",e),Promise.resolve().then(()=>{t.off("error",e)}),t}});var Je=S((sw,qc)=>{"use strict";var{URL:Tc}=require("url"),Am=require("events"),qm=require("tls"),jm=require("http2"),Dm=ai(),Im=ci(),ne=Symbol("currentStreamCount"),Rc=Symbol("request"),ie=Symbol("cachedOriginSet"),He=Symbol("gracefullyClosing"),jr=Symbol("length"),kc=["createConnection","maxDeflateDynamicTableSize","maxSettings","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","peerMaxConcurrentStreams","settings","family","localAddress","rejectUnauthorized","pskCallback","minDHSize","path","socket","ca","cert","sigalgs","ciphers","clientCertEngine","crl","dhparam","ecdhCurve","honorCipherOrder","key","privateKeyEngine","privateKeyIdentifier","maxVersion","minVersion","pfx","secureOptions","secureProtocol","sessionIdContext","ticketKeys"],Nm=(t,e,r)=>{let n=0,i=t.length;for(;n<i;){let s=n+i>>>1;r(t[s],e)?n=s+1:i=s}return n},Lm=(t,e)=>t.remoteSettings.maxConcurrentStreams>e.remoteSettings.maxConcurrentStreams,ui=(t,e)=>{for(let r=0;r<t.length;r++){let n=t[r];n[ie].length>0&&n[ie].length<e[ie].length&&n[ie].every(i=>e[ie].includes(i))&&n[ne]+e[ne]<=e.remoteSettings.maxConcurrentStreams&&Ac(n)}},Cc=(t,e)=>{for(let r=0;r<t.length;r++){let n=t[r];if(e[ie].length>0&&e[ie].length<n[ie].length&&e[ie].every(i=>n[ie].includes(i))&&e[ne]+n[ne]<=n.remoteSettings.maxConcurrentStreams)return Ac(e),!0}return!1},Ac=t=>{t[He]=!0,t[ne]===0&&t.close()},$e=class extends Am{constructor({timeout:e=0,maxSessions:r=Number.POSITIVE_INFINITY,maxEmptySessions:n=10,maxCachedTlsSessions:i=100}={}){super(),this.sessions={},this.queue={},this.timeout=e,this.maxSessions=r,this.maxEmptySessions=n,this._emptySessionCount=0,this._sessionCount=0,this.settings={enablePush:!1,initialWindowSize:1024*1024*32},this.tlsSessionCache=new Dm({maxSize:i})}get protocol(){return"https:"}normalizeOptions(e){let r="";for(let n=0;n<kc.length;n++){let i=kc[n];r+=":",e&&e[i]!==void 0&&(r+=e[i])}return r}_processQueue(){if(this._sessionCount>=this.maxSessions){this.closeEmptySessions(this.maxSessions-this._sessionCount+1);return}for(let e in this.queue)for(let r in this.queue[e]){let n=this.queue[e][r];n.completed||(n.completed=!0,n())}}_isBetterSession(e,r){return e>r}_accept(e,r,n,i){let s=0;for(;s<r.length&&e[ne]<e.remoteSettings.maxConcurrentStreams;)r[s].resolve(e),s++;r.splice(0,s),r.length>0&&(this.getSession(n,i,r),r.length=0)}getSession(e,r,n){return new Promise((i,s)=>{Array.isArray(n)&&n.length>0?(n=[...n],i()):n=[{resolve:i,reject:s}];try{if(typeof e=="string")e=new Tc(e);else if(!(e instanceof Tc))throw new TypeError("The `origin` argument needs to be a string or an URL object");if(r){let{servername:h}=r,{hostname:p}=e;if(h&&p!==h)throw new Error(`Origin ${p} differs from servername ${h}`)}}catch(h){for(let p=0;p<n.length;p++)n[p].reject(h);return}let o=this.normalizeOptions(r),a=e.origin;if(o in this.sessions){let h=this.sessions[o],p=-1,d=-1,y;for(let g=0;g<h.length;g++){let m=h[g],x=m.remoteSettings.maxConcurrentStreams;if(x<p)break;if(!m[ie].includes(a))continue;let w=m[ne];w>=x||m[He]||m.destroyed||(y||(p=x),this._isBetterSession(w,d)&&(y=m,d=w))}if(y){this._accept(y,n,a,r);return}}if(o in this.queue){if(a in this.queue[o]){this.queue[o][a].listeners.push(...n);return}}else this.queue[o]={[jr]:0};let c=()=>{o in this.queue&&this.queue[o][a]===f&&(delete this.queue[o][a],--this.queue[o][jr]===0&&delete this.queue[o])},f=async()=>{this._sessionCount++;let h=`${a}:${o}`,p=!1,d;try{let y={...r};y.settings===void 0&&(y.settings=this.settings),y.session===void 0&&(y.session=this.tlsSessionCache.get(h)),d=await(y.createConnection||this.createConnection).call(this,e,y),y.createConnection=()=>d;let m=jm.connect(e,y);m[ne]=0,m[He]=!1;let x=()=>{let{socket:E}=m,T;return E.servername===!1?(E.servername=E.remoteAddress,T=m.originSet,E.servername=!1):T=m.originSet,T},w=()=>m[ne]<m.remoteSettings.maxConcurrentStreams;m.socket.once("session",E=>{this.tlsSessionCache.set(h,E)}),m.once("error",E=>{for(let T=0;T<n.length;T++)n[T].reject(E);this.tlsSessionCache.delete(h)}),m.setTimeout(this.timeout,()=>{m.destroy()}),m.once("close",()=>{if(this._sessionCount--,p){this._emptySessionCount--;let E=this.sessions[o];E.length===1?delete this.sessions[o]:E.splice(E.indexOf(m),1)}else{c();let E=new Error("Session closed without receiving a SETTINGS frame");E.code="HTTP2WRAPPER_NOSETTINGS";for(let T=0;T<n.length;T++)n[T].reject(E)}this._processQueue()});let P=()=>{let E=this.queue[o];if(!E)return;let T=m[ie];for(let H=0;H<T.length;H++){let z=T[H];if(z in E){let{listeners:we,completed:mt}=E[z],v=0;for(;v<we.length&&w();)we[v].resolve(m),v++;if(E[z].listeners.splice(0,v),E[z].listeners.length===0&&!mt&&(delete E[z],--E[jr]===0)){delete this.queue[o];break}if(!w())break}}};m.on("origin",()=>{m[ie]=x()||[],m[He]=!1,Cc(this.sessions[o],m),!(m[He]||!w())&&(P(),w()&&ui(this.sessions[o],m))}),m.once("remoteSettings",()=>{if(f.destroyed){let E=new Error("Agent has been destroyed");for(let T=0;T<n.length;T++)n[T].reject(E);m.destroy();return}if(m.setLocalWindowSize&&m.setLocalWindowSize(1024*1024*4),m[ie]=x()||[],m.socket.encrypted){let E=m[ie][0];if(E!==a){let T=new Error(`Requested origin ${a} does not match server ${E}`);for(let H=0;H<n.length;H++)n[H].reject(T);m.destroy();return}}c();{let E=this.sessions;if(o in E){let T=E[o];T.splice(Nm(T,m,Lm),0,m)}else E[o]=[m]}p=!0,this._emptySessionCount++,this.emit("session",m),this._accept(m,n,a,r),m[ne]===0&&this._emptySessionCount>this.maxEmptySessions&&this.closeEmptySessions(this._emptySessionCount-this.maxEmptySessions),m.on("remoteSettings",()=>{w()&&(P(),w()&&ui(this.sessions[o],m))})}),m[Rc]=m.request,m.request=(E,T)=>{if(m[He])throw new Error("The session is gracefully closing. No new streams are allowed.");let H=m[Rc](E,T);return m.ref(),m[ne]++===0&&this._emptySessionCount--,H.once("close",()=>{if(--m[ne]===0&&(this._emptySessionCount++,m.unref(),this._emptySessionCount>this.maxEmptySessions||m[He])){m.close();return}m.destroyed||m.closed||w()&&!Cc(this.sessions[o],m)&&(ui(this.sessions[o],m),P(),m[ne]===0&&this._processQueue())}),H}}catch(y){c(),this._sessionCount--;for(let g=0;g<n.length;g++)n[g].reject(y)}};f.listeners=n,f.completed=!1,f.destroyed=!1,this.queue[o][a]=f,this.queue[o][jr]++,this._processQueue()})}request(e,r,n,i){return new Promise((s,o)=>{this.getSession(e,r,[{reject:o,resolve:a=>{try{let c=a.request(n,i);Im(c),s(c)}catch(c){o(c)}}}])})}async createConnection(e,r){return $e.connect(e,r)}static connect(e,r){r.ALPNProtocols=["h2"];let n=e.port||443,i=e.hostname;typeof r.servername>"u"&&(r.servername=i);let s=qm.connect(n,i,r);return r.socket&&(s._peername={family:void 0,address:void 0,port:n}),s}closeEmptySessions(e=Number.POSITIVE_INFINITY){let r=0,{sessions:n}=this;for(let i in n){let s=n[i];for(let o=0;o<s.length;o++){let a=s[o];if(a[ne]===0&&(r++,a.close(),r>=e))return r}}return r}destroy(e){let{sessions:r,queue:n}=this;for(let i in r){let s=r[i];for(let o=0;o<s.length;o++)s[o].destroy(e)}for(let i in n){let s=n[i];for(let o in s)s[o].destroyed=!0}this.queue={},this.tlsSessionCache.clear()}get emptySessionCount(){return this._emptySessionCount}get pendingSessionCount(){return this._sessionCount-this._emptySessionCount}get sessionCount(){return this._sessionCount}};$e.kCurrentStreamCount=ne;$e.kGracefullyClosing=He;qc.exports={Agent:$e,globalAgent:new $e}});var hi=S((ow,jc)=>{"use strict";var{Readable:Fm}=require("stream"),fi=class extends Fm{constructor(e,r){super({emitClose:!1,autoDestroy:!0,highWaterMark:r}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=e,this._dumped=!1}get connection(){return this.socket}set connection(e){this.socket=e}_destroy(e,r){this.readableEnded||(this.aborted=!0),r(),this.req._request.destroy(e)}setTimeout(e,r){return this.req.setTimeout(e,r),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};jc.exports=fi});var Ic=S((aw,Dc)=>{"use strict";Dc.exports=(t,e,r)=>{for(let n of r)t.on(n,(...i)=>e.emit(n,...i))}});var Bt=S((uw,Nc)=>{"use strict";var Ke=(t,e,r)=>{Nc.exports[e]=class extends t{constructor(...i){super(typeof r=="string"?r:r(i)),this.name=`${super.name} [${e}]`,this.code=e}}};Ke(TypeError,"ERR_INVALID_ARG_TYPE",t=>{let e=t[0].includes(".")?"property":"argument",r=t[1],n=Array.isArray(r);return n&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${t[0]}" ${e} must be ${n?"one of":"of"} type ${r}. Received ${typeof t[2]}`});Ke(TypeError,"ERR_INVALID_PROTOCOL",t=>`Protocol "${t[0]}" not supported. Expected "${t[1]}"`);Ke(Error,"ERR_HTTP_HEADERS_SENT",t=>`Cannot ${t[0]} headers after they are sent to the client`);Ke(TypeError,"ERR_INVALID_HTTP_TOKEN",t=>`${t[0]} must be a valid HTTP token [${t[1]}]`);Ke(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",t=>`Invalid value "${t[0]} for header "${t[1]}"`);Ke(TypeError,"ERR_INVALID_CHAR",t=>`Invalid character in ${t[0]} [${t[1]}]`);Ke(Error,"ERR_HTTP2_NO_SOCKET_MANIPULATION","HTTP/2 sockets should not be directly manipulated (e.g. read and written)")});var Fc=S((fw,Lc)=>{"use strict";Lc.exports=t=>{switch(t){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var li=S((hw,Uc)=>{"use strict";var{ERR_INVALID_HTTP_TOKEN:Um}=Bt(),Hm=Fc(),$m=/^[\^`\-\w!#$%&*+.|~]+$/;Uc.exports=t=>{if(typeof t!="string"||!$m.test(t)&&!Hm(t))throw new Um("Header name",t)}});var di=S((lw,Hc)=>{"use strict";var{ERR_HTTP_INVALID_HEADER_VALUE:Mm,ERR_INVALID_CHAR:Bm}=Bt(),zm=/[^\t\u0020-\u007E\u0080-\u00FF]/;Hc.exports=(t,e)=>{if(typeof e>"u")throw new Mm(e,t);if(zm.test(e))throw new Bm("header content",t)}});var Bc=S((dw,Mc)=>{"use strict";var{ERR_HTTP2_NO_SOCKET_MANIPULATION:$c}=Bt(),Wm={has(t,e){let r=t.session===void 0?t:t.session.socket;return e in t||e in r},get(t,e){switch(e){case"on":case"once":case"end":case"emit":case"destroy":return t[e].bind(t);case"writable":case"destroyed":return t[e];case"readable":return t.destroyed?!1:t.readable;case"setTimeout":{let{session:r}=t;return r!==void 0?r.setTimeout.bind(r):t.setTimeout.bind(t)}case"write":case"read":case"pause":case"resume":throw new $c;default:{let r=t.session===void 0?t:t.session.socket,n=r[e];return typeof n=="function"?n.bind(r):n}}},getPrototypeOf(t){return t.session!==void 0?Reflect.getPrototypeOf(t.session.socket):Reflect.getPrototypeOf(t)},set(t,e,r){switch(e){case"writable":case"readable":case"destroyed":case"on":case"once":case"end":case"emit":case"destroy":return t[e]=r,!0;case"setTimeout":{let{session:n}=t;return n===void 0?t.setTimeout=r:n.setTimeout=r,!0}case"write":case"read":case"pause":case"resume":throw new $c;default:{let n=t.session===void 0?t:t.session.socket;return n[e]=r,!0}}}};Mc.exports=Wm});var gi=S((mw,Kc)=>{"use strict";var{URL:mi,urlToHttpOptions:zc}=require("url"),Vm=require("http2"),{Writable:Gm}=require("stream"),{Agent:Jm,globalAgent:Km}=Je(),Ym=hi(),Qm=Ic(),{ERR_INVALID_ARG_TYPE:Dr,ERR_INVALID_PROTOCOL:Xm,ERR_HTTP_HEADERS_SENT:Wc}=Bt(),Zm=li(),ep=di(),tp=Bc(),{HTTP2_HEADER_STATUS:Vc,HTTP2_HEADER_METHOD:Gc,HTTP2_HEADER_PATH:Jc,HTTP2_HEADER_AUTHORITY:zt,HTTP2_METHOD_CONNECT:rp}=Vm.constants,Y=Symbol("headers"),ht=Symbol("origin"),Wt=Symbol("session"),pi=Symbol("options"),Ir=Symbol("flushedHeaders"),lt=Symbol("jobs"),Vt=Symbol("pendingAgentPromise"),yi=class extends Gm{constructor(e,r,n){if(super({autoDestroy:!1,emitClose:!1}),typeof e=="string"?e=zc(new mi(e)):e instanceof mi?e=zc(e):e={...e},typeof r=="function"||r===void 0?(n=r,r=e):r=Object.assign(e,r),r.h2session){if(this[Wt]=r.h2session,this[Wt].destroyed)throw new Error("The session has been closed already");this.protocol=this[Wt].socket.encrypted?"https:":"http:"}else if(r.agent===!1)this.agent=new Jm({maxEmptySessions:0});else if(typeof r.agent>"u"||r.agent===null)this.agent=Km;else if(typeof r.agent.request=="function")this.agent=r.agent;else throw new Dr("options.agent",["http2wrapper.Agent-like Object","undefined","false"],r.agent);if(this.agent&&(this.protocol=this.agent.protocol),r.protocol&&r.protocol!==this.protocol)throw new Xm(r.protocol,this.protocol);r.port||(r.port=r.defaultPort||this.agent&&this.agent.defaultPort||443),r.host=r.hostname||r.host||"localhost",delete r.hostname;let{timeout:i}=r;r.timeout=void 0,this[Y]=Object.create(null),this[lt]=[],this[Vt]=void 0,this.socket=null,this.connection=null,this.method=r.method||"GET",this.method==="CONNECT"&&(r.path==="/"||r.path===void 0)||(this.path=r.path),this.res=null,this.aborted=!1,this.reusedSocket=!1;let{headers:s}=r;if(s)for(let a in s)this.setHeader(a,s[a]);r.auth&&!("authorization"in this[Y])&&(this[Y].authorization="Basic "+Buffer.from(r.auth).toString("base64")),r.session=r.tlsSession,r.path=r.socketPath,this[pi]=r,this[ht]=new mi(`${this.protocol}//${r.servername||r.host}:${r.port}`);let o=r._reuseSocket;o&&(r.createConnection=(...a)=>o.destroyed?this.agent.createConnection(...a):o,this.agent.getSession(this[ht],this[pi]).catch(()=>{})),i&&this.setTimeout(i),n&&this.once("response",n),this[Ir]=!1}get method(){return this[Y][Gc]}set method(e){e&&(this[Y][Gc]=e.toUpperCase())}get path(){let e=this.method==="CONNECT"?zt:Jc;return this[Y][e]}set path(e){if(e){let r=this.method==="CONNECT"?zt:Jc;this[Y][r]=e}}get host(){return this[ht].hostname}set host(e){}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(e,r,n){if(this._mustNotHaveABody){n(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let i=()=>this._request.write(e,r,n);this._request?i():this[lt].push(i)}_final(e){this.flushHeaders();let r=()=>{if(this._mustNotHaveABody||this.method==="CONNECT"){e();return}this._request.end(e)};this._request?r():this[lt].push(r)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}async _destroy(e,r){this.res&&this.res._dump(),this._request?this._request.destroy():process.nextTick(()=>{this.emit("close")});try{await this[Vt]}catch(n){this.aborted&&(e=n)}r(e)}async flushHeaders(){if(this[Ir]||this.destroyed)return;this[Ir]=!0;let e=this.method===rp,r=n=>{if(this._request=n,this.destroyed){n.destroy();return}e||Qm(n,this,["timeout","continue"]),n.once("error",s=>{this.destroy(s)}),n.once("aborted",()=>{let{res:s}=this;s?(s.aborted=!0,s.emit("aborted"),s.destroy()):this.destroy(new Error("The server aborted the HTTP/2 stream"))});let i=(s,o,a)=>{let c=new Ym(this.socket,n.readableHighWaterMark);this.res=c,c.url=`${this[ht].origin}${this.path}`,c.req=this,c.statusCode=s[Vc],c.headers=s,c.rawHeaders=a,c.once("end",()=>{c.complete=!0,c.socket=null,c.connection=null}),e?(c.upgrade=!0,this.emit("connect",c,n,Buffer.alloc(0))?this.emit("close"):n.destroy()):(n.on("data",f=>{!c._dumped&&!c.push(f)&&n.pause()}),n.once("end",()=>{this.aborted||c.push(null)}),this.emit("response",c)||c._dump())};n.once("response",i),n.once("headers",s=>this.emit("information",{statusCode:s[Vc]})),n.once("trailers",(s,o,a)=>{let{res:c}=this;if(c===null){i(s,o,a);return}c.trailers=s,c.rawTrailers=a}),n.once("close",()=>{let{aborted:s,res:o}=this;if(o){s&&(o.aborted=!0,o.emit("aborted"),o.destroy());let a=()=>{o.emit("close"),this.destroy(),this.emit("close")};o.readable?o.once("end",a):a();return}if(!this.destroyed){this.destroy(new Error("The HTTP/2 stream has been early terminated")),this.emit("close");return}this.destroy(),this.emit("close")}),this.socket=new Proxy(n,tp);for(let s of this[lt])s();this[lt].length=0,this.emit("socket",this.socket)};if(!(zt in this[Y])&&!e&&(this[Y][zt]=this[ht].host),this[Wt])try{r(this[Wt].request(this[Y]))}catch(n){this.destroy(n)}else{this.reusedSocket=!0;try{let n=this.agent.request(this[ht],this[pi],this[Y]);this[Vt]=n,r(await n),this[Vt]=!1}catch(n){this[Vt]=!1,this.destroy(n)}}}get connection(){return this.socket}set connection(e){this.socket=e}getHeaderNames(){return Object.keys(this[Y])}hasHeader(e){if(typeof e!="string")throw new Dr("name","string",e);return Boolean(this[Y][e.toLowerCase()])}getHeader(e){if(typeof e!="string")throw new Dr("name","string",e);return this[Y][e.toLowerCase()]}get headersSent(){return this[Ir]}removeHeader(e){if(typeof e!="string")throw new Dr("name","string",e);if(this.headersSent)throw new Wc("remove");delete this[Y][e.toLowerCase()]}setHeader(e,r){if(this.headersSent)throw new Wc("set");Zm(e),ep(e,r);let n=e.toLowerCase();if(n==="connection"){if(r.toLowerCase()==="keep-alive")return;throw new Error(`Invalid 'connection' header: ${r}`)}n==="host"&&this.method==="CONNECT"?this[Y][zt]=r:this[Y][n]=r}setNoDelay(){}setSocketKeepAlive(){}setTimeout(e,r){let n=()=>this._request.setTimeout(e,r);return this._request?n():this[lt].push(n),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(e){}};Kc.exports=yi});var Qc=S((pw,Yc)=>{"use strict";var np=require("tls");Yc.exports=(t={},e=np.connect)=>new Promise((r,n)=>{let i=!1,s,o=async()=>{await c,s.off("timeout",a),s.off("error",n),t.resolveSocket?(r({alpnProtocol:s.alpnProtocol,socket:s,timeout:i}),i&&(await Promise.resolve(),s.emit("timeout"))):(s.destroy(),r({alpnProtocol:s.alpnProtocol,timeout:i}))},a=async()=>{i=!0,o()},c=(async()=>{try{s=await e(t,o),s.on("error",n),s.once("timeout",a)}catch(f){n(f)}})()})});var Zc=S((yw,Xc)=>{"use strict";var{isIP:ip}=require("net"),sp=require("assert"),op=t=>{if(t[0]==="["){let r=t.indexOf("]");return sp(r!==-1),t.slice(1,r)}let e=t.indexOf(":");return e===-1?t:t.slice(0,e)};Xc.exports=t=>{let e=op(t);return ip(e)?"":e}});var au=S((gw,Gt)=>{"use strict";var{URL:eu,urlToHttpOptions:tu}=require("url"),ru=require("http"),_i=require("https"),ap=Qc(),cp=ai(),{Agent:up,globalAgent:fp}=Je(),hp=gi(),lp=Zc(),nu=ci(),iu=new cp({maxSize:100}),dp=new Map,mp=(t,e,r)=>{e._httpMessage={shouldKeepAlive:!0};let n=()=>{t.emit("free",e,r)};e.on("free",n);let i=()=>{t.removeSocket(e,r)};e.on("close",i);let s=()=>{let{freeSockets:a}=t;for(let c of Object.values(a))if(c.includes(e)){e.destroy();return}};e.on("timeout",s);let o=()=>{t.removeSocket(e,r),e.off("close",i),e.off("free",n),e.off("timeout",s),e.off("agentRemove",o)};e.on("agentRemove",o),t.emit("free",e,r)},su=(t,e=new Map,r=void 0)=>async n=>{let i=`${n.host}:${n.port}:${n.ALPNProtocols.sort()}`;if(!t.has(i)){if(e.has(i))return{alpnProtocol:(await e.get(i)).alpnProtocol};let{path:s}=n;n.path=n.socketPath;let o=ap(n,r);e.set(i,o);try{let a=await o;return t.set(i,a.alpnProtocol),e.delete(i),n.path=s,a}catch(a){throw e.delete(i),n.path=s,a}}return{alpnProtocol:t.get(i)}},ou=su(iu,dp);Gt.exports=async(t,e,r)=>{if(typeof t=="string"?t=tu(new eu(t)):t instanceof eu?t=tu(t):t={...t},typeof e=="function"||e===void 0?(r=e,e=t):e=Object.assign(t,e),e.ALPNProtocols=e.ALPNProtocols||["h2","http/1.1"],!Array.isArray(e.ALPNProtocols)||e.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");e.protocol=e.protocol||"https:";let n=e.protocol==="https:";e.host=e.hostname||e.host||"localhost",e.session=e.tlsSession,e.servername=e.servername||lp(e.headers&&e.headers.host||e.host),e.port=e.port||(n?443:80),e._defaultAgent=n?_i.globalAgent:ru.globalAgent;let i=e.resolveProtocol||ou,{agent:s}=e;if(s!==void 0&&s!==!1&&s.constructor.name!=="Object")throw new Error("The `options.agent` can be only an object `http`, `https` or `http2` properties");if(n){e.resolveSocket=!0;let{socket:o,alpnProtocol:a,timeout:c}=await i(e);if(c){o&&o.destroy();let h=new Error(`Timed out resolving ALPN: ${e.timeout} ms`);throw h.code="ETIMEDOUT",h.ms=e.timeout,h}o&&e.createConnection&&(o.destroy(),o=void 0),delete e.resolveSocket;let f=a==="h2";if(s&&(s=f?s.http2:s.https,e.agent=s),s===void 0&&(s=f?fp:_i.globalAgent),o)if(s===!1)o.destroy();else{let h=(f?up:_i.Agent).prototype.createConnection;s.createConnection===h?f?e._reuseSocket=o:mp(s,o,e):o.destroy()}if(f)return nu(new hp(e,r))}else s&&(e.agent=s.http);return nu(ru.request(e,r))};Gt.exports.protocolCache=iu;Gt.exports.resolveProtocol=ou;Gt.exports.createResolveProtocol=su});var wi=S((_w,cu)=>{"use strict";var pp=require("stream"),yp=require("tls"),gp=new yp.TLSSocket(new pp.PassThrough)._handle._parentWrap.constructor;cu.exports=gp});var Si=S((ww,uu)=>{"use strict";var bi=class extends Error{constructor(e,r=""){super(`The proxy server rejected the request with status code ${e} (${r||"empty status message"})`),this.statusCode=e,this.statusMessage=r}};uu.exports=bi});var hu=S((bw,fu)=>{"use strict";var _p=(t,e,r)=>{if(!r.some(i=>typeof i==="string"?typeof e===i:e instanceof i)){let i=r.map(s=>typeof s=="string"?s:s.name);throw new TypeError(`Expected '${t}' to be a type of ${i.join(" or ")}, got ${typeof e}`)}};fu.exports=_p});var Ei=S((Sw,du)=>{"use strict";var{URL:lu}=require("url"),Nr=hu();du.exports=(t,e)=>{Nr("proxyOptions",e,["object"]),Nr("proxyOptions.headers",e.headers,["object","undefined"]),Nr("proxyOptions.raw",e.raw,["boolean","undefined"]),Nr("proxyOptions.url",e.url,[lu,"string"]);let r=new lu(e.url);t.proxyOptions={raw:!0,...e,headers:{...e.headers},url:r}}});var Lr=S((Ew,mu)=>{"use strict";mu.exports=t=>{let{username:e,password:r}=t.proxyOptions.url;if(e||r){let n=`${e}:${r}`,i=`Basic ${Buffer.from(n).toString("base64")}`;return{"proxy-authorization":i,authorization:i}}return{}}});var wu=S((xw,_u)=>{"use strict";var wp=require("tls"),bp=require("http"),pu=require("https"),Sp=wi(),{globalAgent:Ep}=Je(),xp=Si(),yu=Ei(),Op=Lr(),gu=(t,e,r)=>{(async()=>{try{let{proxyOptions:n}=t,{url:i,headers:s,raw:o}=n,a=await Ep.request(i,n,{...Op(t),...s,":method":"CONNECT",":authority":`${e.host}:${e.port}`});a.once("error",r),a.once("response",c=>{let f=c[":status"];if(f!==200){r(new xp(f,""));return}let h=t instanceof pu.Agent;if(o&&h){e.socket=a;let d=wp.connect(e);d.once("close",()=>{a.destroy()}),r(null,d);return}let p=new Sp(a);p.encrypted=!1,p._handle.getpeername=d=>{d.family=void 0,d.address=void 0,d.port=void 0},r(null,p)})}catch(n){r(n)}})()},xi=class extends bp.Agent{constructor(e){super(e),yu(this,e.proxyOptions)}createConnection(e,r){gu(this,e,r)}},Oi=class extends pu.Agent{constructor(e){super(e),yu(this,e.proxyOptions)}createConnection(e,r){gu(this,e,r)}};_u.exports={HttpOverHttp2:xi,HttpsOverHttp2:Oi}});var Pi=S((Ow,bu)=>{"use strict";var{Agent:vp}=Je(),Pp=wi(),Tp=Si(),Rp=Ei(),vi=class extends vp{constructor(e){super(e),Rp(this,e.proxyOptions)}async createConnection(e,r){let n=`${e.hostname}:${e.port||443}`,[i,s,o]=await this._getProxyStream(n);if(s!==200)throw new Tp(s,o);if(this.proxyOptions.raw)r.socket=i;else{let a=new Pp(i);return a.encrypted=!1,a._handle.getpeername=c=>{c.family=void 0,c.address=void 0,c.port=void 0},a}return super.createConnection(e,r)}};bu.exports=vi});var Eu=S((vw,Su)=>{"use strict";var{globalAgent:kp}=Je(),Cp=Pi(),Ap=Lr(),qp=t=>new Promise((e,r)=>{t.once("error",r),t.once("response",n=>{t.off("error",r),e(n[":status"])})}),Ti=class extends Cp{async _getProxyStream(e){let{proxyOptions:r}=this,n={...Ap(this),...r.headers,":method":"CONNECT",":authority":e},i=await kp.request(r.url,r,n),s=await qp(i);return[i,s,""]}};Su.exports=Ti});var Ou=S((Pw,xu)=>{"use strict";var jp=require("http"),Dp=require("https"),Ip=Pi(),Np=Lr(),Lp=t=>new Promise((e,r)=>{let n=(i,s,o)=>{s.unshift(o),t.off("error",r),e([s,i.statusCode,i.statusMessage])};t.once("error",r),t.once("connect",n)}),Fr=class extends Ip{async _getProxyStream(e){let{proxyOptions:r}=this,{url:n,headers:i}=this.proxyOptions,o=(n.protocol==="https:"?Dp:jp).request({...r,hostname:n.hostname,port:n.port,path:e,headers:{...Np(this),...i,host:e},method:"CONNECT"}).end();return Lp(o)}};xu.exports={Http2OverHttp:Fr,Http2OverHttps:Fr}});var Pu=S((Tw,vu)=>{"use strict";var Fp=require("http2"),{Agent:Up,globalAgent:Hp}=Je(),Ri=gi(),$p=hi(),Mp=au(),{HttpOverHttp2:Bp,HttpsOverHttp2:zp}=wu(),Wp=Eu(),{Http2OverHttp:Vp,Http2OverHttps:Gp}=Ou(),Jp=li(),Kp=di(),Yp=(t,e,r)=>new Ri(t,e,r),Qp=(t,e,r)=>{let n=new Ri(t,e,r);return n.end(),n};vu.exports={...Fp,ClientRequest:Ri,IncomingMessage:$p,Agent:Up,globalAgent:Hp,request:Yp,get:Qp,auto:Mp,proxies:{HttpOverHttp2:Bp,HttpsOverHttp2:zp,Http2OverHttp2:Wp,Http2OverHttp:Vp,Http2OverHttps:Gp},validateHeaderName:Jp,validateHeaderValue:Kp}});var me=L(ln()),Mu=require("fs"),Bu=L(Da());var Ia=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Cd(t){return Ia.includes(t)}var Ad=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","WeakRef","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement","NaN",...Ia];function qd(t){return Ad.includes(t)}var jd=["null","undefined","string","number","bigint","boolean","symbol"];function Dd(t){return jd.includes(t)}function ot(t){return e=>typeof e===t}var{toString:Id}=Object.prototype,Pt=t=>{let e=Id.call(t).slice(8,-1);if(/HTML\w+Element/.test(e)&&u.domElement(t))return"HTMLElement";if(qd(e))return e},A=t=>e=>Pt(e)===t;function u(t){if(t===null)return"null";switch(typeof t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"NaN":"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(u.observable(t))return"Observable";if(u.array(t))return"Array";if(u.buffer(t))return"Buffer";let e=Pt(t);if(e)return e;if(t instanceof String||t instanceof Boolean||t instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}u.undefined=ot("undefined");u.string=ot("string");var Nd=ot("number");u.number=t=>Nd(t)&&!u.nan(t);u.bigint=ot("bigint");u.function_=ot("function");u.null_=t=>t===null;u.class_=t=>u.function_(t)&&t.toString().startsWith("class ");u.boolean=t=>t===!0||t===!1;u.symbol=ot("symbol");u.numericString=t=>u.string(t)&&!u.emptyStringOrWhitespace(t)&&!Number.isNaN(Number(t));u.array=(t,e)=>Array.isArray(t)?u.function_(e)?t.every(r=>e(r)):!0:!1;u.buffer=t=>t?.constructor?.isBuffer?.(t)??!1;u.blob=t=>A("Blob")(t);u.nullOrUndefined=t=>u.null_(t)||u.undefined(t);u.object=t=>!u.null_(t)&&(typeof t=="object"||u.function_(t));u.iterable=t=>u.function_(t?.[Symbol.iterator]);u.asyncIterable=t=>u.function_(t?.[Symbol.asyncIterator]);u.generator=t=>u.iterable(t)&&u.function_(t?.next)&&u.function_(t?.throw);u.asyncGenerator=t=>u.asyncIterable(t)&&u.function_(t.next)&&u.function_(t.throw);u.nativePromise=t=>A("Promise")(t);var Ld=t=>u.function_(t?.then)&&u.function_(t?.catch);u.promise=t=>u.nativePromise(t)||Ld(t);u.generatorFunction=A("GeneratorFunction");u.asyncGeneratorFunction=t=>Pt(t)==="AsyncGeneratorFunction";u.asyncFunction=t=>Pt(t)==="AsyncFunction";u.boundFunction=t=>u.function_(t)&&!t.hasOwnProperty("prototype");u.regExp=A("RegExp");u.date=A("Date");u.error=A("Error");u.map=t=>A("Map")(t);u.set=t=>A("Set")(t);u.weakMap=t=>A("WeakMap")(t);u.weakSet=t=>A("WeakSet")(t);u.weakRef=t=>A("WeakRef")(t);u.int8Array=A("Int8Array");u.uint8Array=A("Uint8Array");u.uint8ClampedArray=A("Uint8ClampedArray");u.int16Array=A("Int16Array");u.uint16Array=A("Uint16Array");u.int32Array=A("Int32Array");u.uint32Array=A("Uint32Array");u.float32Array=A("Float32Array");u.float64Array=A("Float64Array");u.bigInt64Array=A("BigInt64Array");u.bigUint64Array=A("BigUint64Array");u.arrayBuffer=A("ArrayBuffer");u.sharedArrayBuffer=A("SharedArrayBuffer");u.dataView=A("DataView");u.enumCase=(t,e)=>Object.values(e).includes(t);u.directInstanceOf=(t,e)=>Object.getPrototypeOf(t)===e.prototype;u.urlInstance=t=>A("URL")(t);u.urlString=t=>{if(!u.string(t))return!1;try{return new URL(t),!0}catch{return!1}};u.truthy=t=>Boolean(t);u.falsy=t=>!t;u.nan=t=>Number.isNaN(t);u.primitive=t=>u.null_(t)||Dd(typeof t);u.integer=t=>Number.isInteger(t);u.safeInteger=t=>Number.isSafeInteger(t);u.plainObject=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};u.typedArray=t=>Cd(Pt(t));var Fd=t=>u.safeInteger(t)&&t>=0;u.arrayLike=t=>!u.nullOrUndefined(t)&&!u.function_(t)&&Fd(t.length);u.inRange=(t,e)=>{if(u.number(e))return t>=Math.min(0,e)&&t<=Math.max(e,0);if(u.array(e)&&e.length===2)return t>=Math.min(...e)&&t<=Math.max(...e);throw new TypeError(`Invalid range: ${JSON.stringify(e)}`)};var Ud=1,Hd=["innerHTML","ownerDocument","style","attributes","nodeValue"];u.domElement=t=>u.object(t)&&t.nodeType===Ud&&u.string(t.nodeName)&&!u.plainObject(t)&&Hd.every(e=>e in t);u.observable=t=>t?t===t[Symbol.observable]?.()||t===t["@@observable"]?.():!1;u.nodeStream=t=>u.object(t)&&u.function_(t.pipe)&&!u.observable(t);u.infinite=t=>t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY;var Na=t=>e=>u.integer(e)&&Math.abs(e%2)===t;u.evenInteger=Na(0);u.oddInteger=Na(1);u.emptyArray=t=>u.array(t)&&t.length===0;u.nonEmptyArray=t=>u.array(t)&&t.length>0;u.emptyString=t=>u.string(t)&&t.length===0;var $d=t=>u.string(t)&&!/\S/.test(t);u.emptyStringOrWhitespace=t=>u.emptyString(t)||$d(t);u.nonEmptyString=t=>u.string(t)&&t.length>0;u.nonEmptyStringAndNotWhitespace=t=>u.string(t)&&!u.emptyStringOrWhitespace(t);u.emptyObject=t=>u.object(t)&&!u.map(t)&&!u.set(t)&&Object.keys(t).length===0;u.nonEmptyObject=t=>u.object(t)&&!u.map(t)&&!u.set(t)&&Object.keys(t).length>0;u.emptySet=t=>u.set(t)&&t.size===0;u.nonEmptySet=t=>u.set(t)&&t.size>0;u.emptyMap=t=>u.map(t)&&t.size===0;u.nonEmptyMap=t=>u.map(t)&&t.size>0;u.propertyKey=t=>u.any([u.string,u.number,u.symbol],t);u.formData=t=>A("FormData")(t);u.urlSearchParams=t=>A("URLSearchParams")(t);var La=(t,e,r)=>{if(!u.function_(e))throw new TypeError(`Invalid predicate: ${JSON.stringify(e)}`);if(r.length===0)throw new TypeError("Invalid number of values");return t.call(r,e)};u.any=(t,...e)=>(u.array(t)?t:[t]).some(n=>La(Array.prototype.some,n,e));u.all=(t,...e)=>La(Array.prototype.every,t,e);var b=(t,e,r,n={})=>{if(!t){let{multipleValues:i}=n,s=i?`received values of types ${[...new Set(r.map(o=>`\`${u(o)}\``))].join(", ")}`:`received value of type \`${u(r)}\``;throw new TypeError(`Expected value which is \`${e}\`, ${s}.`)}},_={undefined:t=>b(u.undefined(t),"undefined",t),string:t=>b(u.string(t),"string",t),number:t=>b(u.number(t),"number",t),bigint:t=>b(u.bigint(t),"bigint",t),function_:t=>b(u.function_(t),"Function",t),null_:t=>b(u.null_(t),"null",t),class_:t=>b(u.class_(t),"Class",t),boolean:t=>b(u.boolean(t),"boolean",t),symbol:t=>b(u.symbol(t),"symbol",t),numericString:t=>b(u.numericString(t),"string with a number",t),array:(t,e)=>{b(u.array(t),"Array",t),e&&t.forEach(e)},buffer:t=>b(u.buffer(t),"Buffer",t),blob:t=>b(u.blob(t),"Blob",t),nullOrUndefined:t=>b(u.nullOrUndefined(t),"null or undefined",t),object:t=>b(u.object(t),"Object",t),iterable:t=>b(u.iterable(t),"Iterable",t),asyncIterable:t=>b(u.asyncIterable(t),"AsyncIterable",t),generator:t=>b(u.generator(t),"Generator",t),asyncGenerator:t=>b(u.asyncGenerator(t),"AsyncGenerator",t),nativePromise:t=>b(u.nativePromise(t),"native Promise",t),promise:t=>b(u.promise(t),"Promise",t),generatorFunction:t=>b(u.generatorFunction(t),"GeneratorFunction",t),asyncGeneratorFunction:t=>b(u.asyncGeneratorFunction(t),"AsyncGeneratorFunction",t),asyncFunction:t=>b(u.asyncFunction(t),"AsyncFunction",t),boundFunction:t=>b(u.boundFunction(t),"Function",t),regExp:t=>b(u.regExp(t),"RegExp",t),date:t=>b(u.date(t),"Date",t),error:t=>b(u.error(t),"Error",t),map:t=>b(u.map(t),"Map",t),set:t=>b(u.set(t),"Set",t),weakMap:t=>b(u.weakMap(t),"WeakMap",t),weakSet:t=>b(u.weakSet(t),"WeakSet",t),weakRef:t=>b(u.weakRef(t),"WeakRef",t),int8Array:t=>b(u.int8Array(t),"Int8Array",t),uint8Array:t=>b(u.uint8Array(t),"Uint8Array",t),uint8ClampedArray:t=>b(u.uint8ClampedArray(t),"Uint8ClampedArray",t),int16Array:t=>b(u.int16Array(t),"Int16Array",t),uint16Array:t=>b(u.uint16Array(t),"Uint16Array",t),int32Array:t=>b(u.int32Array(t),"Int32Array",t),uint32Array:t=>b(u.uint32Array(t),"Uint32Array",t),float32Array:t=>b(u.float32Array(t),"Float32Array",t),float64Array:t=>b(u.float64Array(t),"Float64Array",t),bigInt64Array:t=>b(u.bigInt64Array(t),"BigInt64Array",t),bigUint64Array:t=>b(u.bigUint64Array(t),"BigUint64Array",t),arrayBuffer:t=>b(u.arrayBuffer(t),"ArrayBuffer",t),sharedArrayBuffer:t=>b(u.sharedArrayBuffer(t),"SharedArrayBuffer",t),dataView:t=>b(u.dataView(t),"DataView",t),enumCase:(t,e)=>b(u.enumCase(t,e),"EnumCase",t),urlInstance:t=>b(u.urlInstance(t),"URL",t),urlString:t=>b(u.urlString(t),"string with a URL",t),truthy:t=>b(u.truthy(t),"truthy",t),falsy:t=>b(u.falsy(t),"falsy",t),nan:t=>b(u.nan(t),"NaN",t),primitive:t=>b(u.primitive(t),"primitive",t),integer:t=>b(u.integer(t),"integer",t),safeInteger:t=>b(u.safeInteger(t),"integer",t),plainObject:t=>b(u.plainObject(t),"plain object",t),typedArray:t=>b(u.typedArray(t),"TypedArray",t),arrayLike:t=>b(u.arrayLike(t),"array-like",t),domElement:t=>b(u.domElement(t),"HTMLElement",t),observable:t=>b(u.observable(t),"Observable",t),nodeStream:t=>b(u.nodeStream(t),"Node.js Stream",t),infinite:t=>b(u.infinite(t),"infinite number",t),emptyArray:t=>b(u.emptyArray(t),"empty array",t),nonEmptyArray:t=>b(u.nonEmptyArray(t),"non-empty array",t),emptyString:t=>b(u.emptyString(t),"empty string",t),emptyStringOrWhitespace:t=>b(u.emptyStringOrWhitespace(t),"empty string or whitespace",t),nonEmptyString:t=>b(u.nonEmptyString(t),"non-empty string",t),nonEmptyStringAndNotWhitespace:t=>b(u.nonEmptyStringAndNotWhitespace(t),"non-empty string and not whitespace",t),emptyObject:t=>b(u.emptyObject(t),"empty object",t),nonEmptyObject:t=>b(u.nonEmptyObject(t),"non-empty object",t),emptySet:t=>b(u.emptySet(t),"empty set",t),nonEmptySet:t=>b(u.nonEmptySet(t),"non-empty set",t),emptyMap:t=>b(u.emptyMap(t),"empty map",t),nonEmptyMap:t=>b(u.nonEmptyMap(t),"non-empty map",t),propertyKey:t=>b(u.propertyKey(t),"PropertyKey",t),formData:t=>b(u.formData(t),"FormData",t),urlSearchParams:t=>b(u.urlSearchParams(t),"URLSearchParams",t),evenInteger:t=>b(u.evenInteger(t),"even integer",t),oddInteger:t=>b(u.oddInteger(t),"odd integer",t),directInstanceOf:(t,e)=>b(u.directInstanceOf(t,e),"T",t),inRange:(t,e)=>b(u.inRange(t,e),"in range",t),any:(t,...e)=>b(u.any(t,...e),"predicate returns truthy for any value",e,{multipleValues:!0}),all:(t,...e)=>b(u.all(t,...e),"predicate returns truthy for all values",e,{multipleValues:!0})};Object.defineProperties(u,{class:{value:u.class_},function:{value:u.function_},null:{value:u.null_}});Object.defineProperties(_,{class:{value:_.class_},function:{value:_.function_},null:{value:_.null_}});var l=u;var Fu=require("node:events");var Nn=class extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},Ne=class{static fn(e){return(...r)=>new Ne((n,i,s)=>{r.push(s),e(...r).then(n,i)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,n)=>{this._reject=n;let i=a=>{(!this._isCanceled||!o.shouldReject)&&(this._isPending=!1,r(a))},s=a=>{this._isPending=!1,n(a)},o=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};Object.defineProperties(o,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),e(i,s,o)})}then(e,r){return this._promise.then(e,r)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new Nn(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(Ne.prototype,Promise.prototype);function Md(t){return l.object(t)&&"_onResponse"in t}var I=class extends Error{constructor(e,r,n){if(super(e),Object.defineProperty(this,"input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=r.code??"ERR_GOT_REQUEST_ERROR",this.input=r.input,Md(n)?(Object.defineProperty(this,"request",{enumerable:!1,value:n}),Object.defineProperty(this,"response",{enumerable:!1,value:n.response}),this.options=n.options):this.options=n,this.timings=this.request?.timings,l.string(r.stack)&&l.string(this.stack)){let i=this.stack.indexOf(this.message)+this.message.length,s=this.stack.slice(i).split(`
`).reverse(),o=r.stack.slice(r.stack.indexOf(r.message)+r.message.length).split(`
`).reverse();for(;o.length>0&&o[0]===s[0];)s.shift();this.stack=`${this.stack.slice(0,i)}${s.reverse().join(`
`)}${o.reverse().join(`
`)}`}}},_r=class extends I{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}},Le=class extends I{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}},wr=class extends I{constructor(e,r){super(e.message,e,r),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}},Tt=class extends I{constructor(e,r){super(e.message,e,r),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}},br=class extends I{constructor(e,r,n){super(e.message,e,n),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.event=e.event,this.timings=r}},Rt=class extends I{constructor(e,r){super(e.message,e,r),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}},Sr=class extends I{constructor(e){super("Retrying",{},e),this.name="RetryError",this.code="ERR_RETRYING"}},Er=class extends I{constructor(e){super("This operation was aborted.",{},e),this.code="ERR_ABORTED",this.name="AbortError"}};var qi=L(require("node:process"),1),Br=require("node:buffer"),Iu=require("node:stream"),zr=require("node:url"),Kt=L(require("node:http"),1);var Ua=require("events"),Ha=require("util"),$a=L(Fa(),1),zd=t=>{if(t.timings)return t.timings;let e={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};t.timings=e;let r=o=>{o.once(Ua.errorMonitor,()=>{e.error=Date.now(),e.phases.total=e.error-e.start})};r(t);let n=()=>{e.abort=Date.now(),e.phases.total=e.abort-e.start};t.prependOnceListener("abort",n);let i=o=>{if(e.socket=Date.now(),e.phases.wait=e.socket-e.start,Ha.types.isProxy(o))return;let a=()=>{e.lookup=Date.now(),e.phases.dns=e.lookup-e.socket};o.prependOnceListener("lookup",a),(0,$a.default)(o,{connect:()=>{e.connect=Date.now(),e.lookup===void 0&&(o.removeListener("lookup",a),e.lookup=e.connect,e.phases.dns=e.lookup-e.socket),e.phases.tcp=e.connect-e.lookup},secureConnect:()=>{e.secureConnect=Date.now(),e.phases.tls=e.secureConnect-e.connect}})};t.socket?i(t.socket):t.prependOnceListener("socket",i);let s=()=>{e.upload=Date.now(),e.phases.request=e.upload-(e.secureConnect??e.connect)};return t.writableFinished?s():t.prependOnceListener("finish",s),t.prependOnceListener("response",o=>{e.response=Date.now(),e.phases.firstByte=e.response-e.upload,o.timings=e,r(o),o.prependOnceListener("end",()=>{t.off("abort",n),o.off("aborted",n),!e.phases.total&&(e.end=Date.now(),e.phases.download=e.end-e.response,e.phases.total=e.end-e.start)}),o.prependOnceListener("aborted",n)}),e},Ma=zd;var ec=L(require("node:events"),1),Ct=L(require("node:url"),1),tc=L(require("node:crypto"),1),Pr=L(require("node:stream"),1);var Wd="text/plain",Vd="us-ascii",Hn=(t,e)=>e.some(r=>r instanceof RegExp?r.test(t):r===t),Gd=new Set(["https:","http:","file:"]),Jd=t=>{try{let{protocol:e}=new URL(t);return e.endsWith(":")&&!Gd.has(e)}catch{return!1}},Kd=(t,{stripHash:e})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!r)throw new Error(`Invalid URL: ${t}`);let{type:n,data:i,hash:s}=r.groups,o=n.split(";");s=e?"":s;let a=!1;o[o.length-1]==="base64"&&(o.pop(),a=!0);let c=o.shift()?.toLowerCase()??"",h=[...o.map(p=>{let[d,y=""]=p.split("=").map(g=>g.trim());return d==="charset"&&(y=y.toLowerCase(),y===Vd)?"":`${d}${y?`=${y}`:""}`}).filter(Boolean)];return a&&h.push("base64"),(h.length>0||c&&c!==Wd)&&h.unshift(c),`data:${h.join(";")},${a?i.trim():i}${s?`#${s}`:""}`};function $n(t,e){if(e={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...e},typeof e.defaultProtocol=="string"&&!e.defaultProtocol.endsWith(":")&&(e.defaultProtocol=`${e.defaultProtocol}:`),t=t.trim(),/^data:/i.test(t))return Kd(t,e);if(Jd(t))return t;let r=t.startsWith("//");!r&&/^\.*\//.test(t)||(t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let i=new URL(t);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),e.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),e.stripAuthentication&&(i.username="",i.password=""),e.stripHash?i.hash="":e.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let o=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,a=0,c="";for(;;){let h=o.exec(i.pathname);if(!h)break;let p=h[0],d=h.index,y=i.pathname.slice(a,d);c+=y.replace(/\/{2,}/g,"/"),c+=p,a=d+p.length}let f=i.pathname.slice(a,i.pathname.length);c+=f.replace(/\/{2,}/g,"/"),i.pathname=c}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let o=i.pathname.split("/"),a=o[o.length-1];Hn(a,e.removeDirectoryIndex)&&(o=o.slice(0,-1),i.pathname=o.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let o of[...i.searchParams.keys()])Hn(o,e.removeQueryParameters)&&i.searchParams.delete(o);if(!Array.isArray(e.keepQueryParameters)&&e.removeQueryParameters===!0&&(i.search=""),Array.isArray(e.keepQueryParameters)&&e.keepQueryParameters.length>0)for(let o of[...i.searchParams.keys()])Hn(o,e.keepQueryParameters)||i.searchParams.delete(o);if(e.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}e.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,"")),e.removeExplicitPort&&i.port&&(i.port="");let s=t;return t=i.toString(),!e.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(t=t.replace(/\/$/,"")),(e.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&e.removeSingleSlash&&(t=t.replace(/\/$/,"")),r&&!e.normalizeProtocol&&(t=t.replace(/^http:\/\//,"//")),e.stripProtocol&&(t=t.replace(/^(?:https?:)?\/\//,"")),t}var rc=L(Bn(),1),vr=L(Va(),1);var Ga=require("node:stream");function at(t){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e.toLowerCase(),r]))}var ct=class extends Ga.Readable{statusCode;headers;body;url;constructor({statusCode:e,headers:r,body:n,url:i}){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof r!="object")throw new TypeError("Argument `headers` should be an object");if(!(n instanceof Uint8Array))throw new TypeError("Argument `body` should be a buffer");if(typeof i!="string")throw new TypeError("Argument `url` should be a string");super({read(){this.push(n),this.push(null)}}),this.statusCode=e,this.headers=at(r),this.body=n,this.url=i}};var At=L(Xa(),1);var hm=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];function Gn(t,e){if(e._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set([...Object.keys(t),...hm]),n={};for(let i of r)i in e||(n[i]={get(){let s=t[i];return typeof s=="function"?s.bind(t):s},set(s){t[i]=s},enumerable:!0,configurable:!1});return Object.defineProperties(e,n),t.once("aborted",()=>{e.destroy(),e.emit("aborted")}),t.once("close",()=>{t.complete&&e.readable?e.once("end",()=>{e.emit("close")}):e.emit("close")}),e}var Or=class extends Error{constructor(e){super(e.message),Object.assign(this,e)}},xe=class extends Error{constructor(e){super(e.message),Object.assign(this,e)}};var Kn=class{constructor(e,r){this.hooks=new Map,this.request=()=>(n,i)=>{let s;if(typeof n=="string")s=Jn(Ct.default.parse(n)),n={};else if(n instanceof Ct.default.URL)s=Jn(Ct.default.parse(n.toString())),n={};else{let[d,...y]=(n.path??"").split("?"),g=y.length>0?`?${y.join("?")}`:"";s=Jn({...n,pathname:d,search:g})}n={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...n,...mm(s)},n.headers=Object.fromEntries(lm(n.headers).map(([d,y])=>[d.toLowerCase(),y]));let o=new ec.default,a=$n(Ct.default.format(s),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),c=`${n.method}:${a}`;n.body&&n.method!==void 0&&["POST","PATCH","PUT"].includes(n.method)&&(n.body instanceof Pr.default.Readable?n.cache=!1:c+=`:${tc.default.createHash("md5").update(n.body).digest("hex")}`);let f=!1,h=!1,p=d=>{h=!0;let y=!1,g=()=>{},m=new Promise(w=>{g=()=>{y||(y=!0,w())}}),x=async w=>{if(f){w.status=w.statusCode;let E=vr.default.fromObject(f.cachePolicy).revalidatedPolicy(d,w);if(!E.modified){w.resume(),await new Promise(H=>{w.once("end",H)});let T=Za(E.policy.responseHeaders());w=new ct({statusCode:f.statusCode,headers:T,body:f.body,url:f.url}),w.cachePolicy=E.policy,w.fromCache=!0}}w.fromCache||(w.cachePolicy=new vr.default(d,w,d),w.fromCache=!1);let P;d.cache&&w.cachePolicy.storable()?(P=dm(w),(async()=>{try{let E=rc.default.buffer(w);await Promise.race([m,new Promise(we=>w.once("end",we)),new Promise(we=>w.once("close",we))]);let T=await E,H={url:w.url,statusCode:w.fromCache?f.statusCode:w.statusCode,body:T,cachePolicy:w.cachePolicy.toObject()},z=d.strictTtl?w.cachePolicy.timeToLive():void 0;if(d.maxTtl&&(z=z?Math.min(z,d.maxTtl):d.maxTtl),this.hooks.size>0)for(let we of this.hooks.keys())H=await this.runHook(we,H,w);await this.cache.set(c,H,z)}catch(E){o.emit("error",new xe(E))}})()):d.cache&&f&&(async()=>{try{await this.cache.delete(c)}catch(E){o.emit("error",new xe(E))}})(),o.emit("response",P??w),typeof i=="function"&&i(P??w)};try{let w=this.cacheRequest(d,x);w.once("error",g),w.once("abort",g),w.once("destroy",g),o.emit("request",w)}catch(w){o.emit("error",new Or(w))}};return(async()=>{let d=async g=>{await Promise.resolve();let m=g.cache?await this.cache.get(c):void 0;if(typeof m>"u"&&!g.forceRefresh){p(g);return}let x=vr.default.fromObject(m.cachePolicy);if(x.satisfiesWithoutRevalidation(g)&&!g.forceRefresh){let w=Za(x.responseHeaders()),P=new ct({statusCode:m.statusCode,headers:w,body:m.body,url:m.url});P.cachePolicy=x,P.fromCache=!0,o.emit("response",P),typeof i=="function"&&i(P)}else x.satisfiesWithoutRevalidation(g)&&Date.now()>=x.timeToLive()&&g.forceRefresh?(await this.cache.delete(c),g.headers=x.revalidationHeaders(g),p(g)):(f=m,g.headers=x.revalidationHeaders(g),p(g))},y=g=>o.emit("error",new xe(g));if(this.cache instanceof At.default){let g=this.cache;g.once("error",y),o.on("error",()=>g.removeListener("error",y))}try{await d(n)}catch(g){n.automaticFailover&&!h&&p(n),o.emit("error",new xe(g))}})(),o},this.addHook=(n,i)=>{this.hooks.has(n)||this.hooks.set(n,i)},this.removeHook=n=>this.hooks.delete(n),this.getHook=n=>this.hooks.get(n),this.runHook=async(n,...i)=>this.hooks.get(n)?.(...i),r instanceof At.default?this.cache=r:typeof r=="string"?this.cache=new At.default({uri:r,namespace:"cacheable-request"}):this.cache=new At.default({store:r,namespace:"cacheable-request"}),this.request=this.request.bind(this),this.cacheRequest=e}},lm=Object.entries,dm=t=>{let e=new Pr.PassThrough({autoDestroy:!1});return Gn(t,e),t.pipe(e)},mm=t=>{let e={...t};return e.path=`${t.pathname||"/"}${t.search||""}`,delete e.pathname,delete e.search,e},Jn=t=>({protocol:t.protocol,auth:t.auth,hostname:t.hostname||t.host||"localhost",port:t.port,pathname:t.pathname,search:t.search}),Za=t=>{let e=[];for(let r of Object.keys(t))e[r.toLowerCase()]=t[r];return e},nc=Kn;var Nu=L(ac(),1);var Lu=L(Bn(),1);var de=t=>typeof t=="function";var wm=t=>de(t[Symbol.asyncIterator]);async function*bm(t){let e=t.getReader();for(;;){let{done:r,value:n}=await e.read();if(r)break;yield n}}var cc=t=>{if(wm(t))return t;if(de(t.getReader))return bm(t);throw new TypeError("Unsupported data source: Expected either ReadableStream or async iterable.")};var uc="abcdefghijklmnopqrstuvwxyz0123456789";function fc(){let t=16,e="";for(;t--;)e+=uc[Math.random()*uc.length<<0];return e}var Qn=t=>String(t).replace(/\r|\n/g,(e,r,n)=>e==="\r"&&n[r+1]!==`
`||e===`
`&&n[r-1]!=="\r"?`\r
`:e);var Sm=t=>Object.prototype.toString.call(t).slice(8,-1).toLowerCase();function Xn(t){if(Sm(t)!=="object")return!1;let e=Object.getPrototypeOf(t);return e==null?!0:(e.constructor&&e.constructor.toString())===Object.toString()}function hc(t,e){if(typeof e=="string"){for(let[r,n]of Object.entries(t))if(e.toLowerCase()===r.toLowerCase())return n}}var lc=t=>new Proxy(t,{get:(e,r)=>hc(e,r),has:(e,r)=>hc(e,r)!==void 0});var ut=t=>Boolean(t&&de(t.constructor)&&t[Symbol.toStringTag]==="FormData"&&de(t.append)&&de(t.getAll)&&de(t.entries)&&de(t[Symbol.iterator]));var Zn=t=>String(t).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22");var Fe=t=>Boolean(t&&typeof t=="object"&&de(t.constructor)&&t[Symbol.toStringTag]==="File"&&de(t.stream)&&t.name!=null);var qt=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},j=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},jt,Ue,Dt,Tr,It,Ge,Nt,Lt,Rr,ei,dc,Em={enableAdditionalHeaders:!1},kr={writable:!1,configurable:!1},Cr=class{constructor(e,r,n){if(jt.add(this),Ue.set(this,`\r
`),Dt.set(this,void 0),Tr.set(this,void 0),It.set(this,"-".repeat(2)),Ge.set(this,new TextEncoder),Nt.set(this,void 0),Lt.set(this,void 0),Rr.set(this,void 0),!ut(e))throw new TypeError("Expected first argument to be a FormData instance.");let i;if(Xn(r)?n=r:i=r,i||(i=fc()),typeof i!="string")throw new TypeError("Expected boundary argument to be a string.");if(n&&!Xn(n))throw new TypeError("Expected options argument to be an object.");qt(this,Lt,Array.from(e.entries()),"f"),qt(this,Rr,{...Em,...n},"f"),qt(this,Dt,j(this,Ge,"f").encode(j(this,Ue,"f")),"f"),qt(this,Tr,j(this,Dt,"f").byteLength,"f"),this.boundary=`form-data-boundary-${i}`,this.contentType=`multipart/form-data; boundary=${this.boundary}`,qt(this,Nt,j(this,Ge,"f").encode(`${j(this,It,"f")}${this.boundary}${j(this,It,"f")}${j(this,Ue,"f").repeat(2)}`),"f");let s={"Content-Type":this.contentType},o=j(this,jt,"m",dc).call(this);o&&(this.contentLength=o,s["Content-Length"]=o),this.headers=lc(Object.freeze(s)),Object.defineProperties(this,{boundary:kr,contentType:kr,contentLength:kr,headers:kr})}getContentLength(){return this.contentLength==null?void 0:Number(this.contentLength)}*values(){for(let[e,r]of j(this,Lt,"f")){let n=Fe(r)?r:j(this,Ge,"f").encode(Qn(r));yield j(this,jt,"m",ei).call(this,e,n),yield n,yield j(this,Dt,"f")}yield j(this,Nt,"f")}async*encode(){for(let e of this.values())Fe(e)?yield*cc(e.stream()):yield e}[(Ue=new WeakMap,Dt=new WeakMap,Tr=new WeakMap,It=new WeakMap,Ge=new WeakMap,Nt=new WeakMap,Lt=new WeakMap,Rr=new WeakMap,jt=new WeakSet,ei=function(r,n){let i="";i+=`${j(this,It,"f")}${this.boundary}${j(this,Ue,"f")}`,i+=`Content-Disposition: form-data; name="${Zn(r)}"`,Fe(n)&&(i+=`; filename="${Zn(n.name)}"${j(this,Ue,"f")}`,i+=`Content-Type: ${n.type||"application/octet-stream"}`);let s=Fe(n)?n.size:n.byteLength;return j(this,Rr,"f").enableAdditionalHeaders===!0&&s!=null&&!isNaN(s)&&(i+=`${j(this,Ue,"f")}Content-Length: ${Fe(n)?n.size:n.byteLength}`),j(this,Ge,"f").encode(`${i}${j(this,Ue,"f").repeat(2)}`)},dc=function(){let r=0;for(let[n,i]of j(this,Lt,"f")){let s=Fe(i)?i:j(this,Ge,"f").encode(Qn(i)),o=Fe(s)?s.size:s.byteLength;if(o==null||isNaN(o))return;r+=j(this,jt,"m",ei).call(this,n,s).byteLength,r+=o,r+=j(this,Tr,"f")}return String(r+j(this,Nt,"f").byteLength)},Symbol.iterator)](){return this.values()}[Symbol.asyncIterator](){return this.encode()}};var mc=require("node:buffer"),pc=require("node:util");function Ft(t){return l.nodeStream(t)&&l.function_(t.getBoundary)}async function ti(t,e){if(e&&"content-length"in e)return Number(e["content-length"]);if(!t)return 0;if(l.string(t))return mc.Buffer.byteLength(t);if(l.buffer(t))return t.length;if(Ft(t))return(0,pc.promisify)(t.getLength.bind(t))()}function Ut(t,e,r){let n={};for(let i of r){let s=(...o)=>{e.emit(i,...o)};n[i]=s,t.on(i,s)}return()=>{for(let[i,s]of Object.entries(n))t.off(i,s)}}var gc=L(require("node:net"),1);function ri(){let t=[];return{once(e,r,n){e.once(r,n),t.push({origin:e,event:r,fn:n})},unhandleAll(){for(let e of t){let{origin:r,event:n,fn:i}=e;r.removeListener(n,i)}t.length=0}}}var yc=Symbol("reentry"),xm=()=>{},Ht=class extends Error{constructor(e,r){super(`Timeout awaiting '${r}' for ${e}ms`),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.code="ETIMEDOUT"}};function ni(t,e,r){if(yc in t)return xm;t[yc]=!0;let n=[],{once:i,unhandleAll:s}=ri(),o=(m,x,w)=>{let P=setTimeout(x,m,m,w);P.unref?.();let E=()=>{clearTimeout(P)};return n.push(E),E},{host:a,hostname:c}=r,f=(m,x)=>{t.destroy(new Ht(m,x))},h=()=>{for(let m of n)m();s()};if(t.once("error",m=>{if(h(),t.listenerCount("error")===0)throw m}),typeof e.request<"u"){let m=o(e.request,f,"request");i(t,"response",x=>{i(x,"end",m)})}if(typeof e.socket<"u"){let{socket:m}=e,x=()=>{f(m,"socket")};t.setTimeout(m,x),n.push(()=>{t.removeListener("timeout",x)})}let p=typeof e.lookup<"u",d=typeof e.connect<"u",y=typeof e.secureConnect<"u",g=typeof e.send<"u";return(p||d||y||g)&&i(t,"socket",m=>{let{socketPath:x}=t;if(m.connecting){let w=Boolean(x??gc.default.isIP(c??a??"")!==0);if(p&&!w&&typeof m.address().address>"u"){let P=o(e.lookup,f,"lookup");i(m,"lookup",P)}if(d){let P=()=>o(e.connect,f,"connect");w?i(m,"connect",P()):i(m,"lookup",E=>{E===null&&i(m,"connect",P())})}y&&r.protocol==="https:"&&i(m,"connect",()=>{let P=o(e.secureConnect,f,"secureConnect");i(m,"secureConnect",P)})}if(g){let w=()=>o(e.send,f,"send");m.connecting?i(m,"connect",()=>{i(t,"upload-complete",w())}):i(t,"upload-complete",w())}}),typeof e.response<"u"&&i(t,"upload-complete",()=>{let m=o(e.response,f,"response");i(t,"response",m)}),typeof e.read<"u"&&i(t,"response",m=>{let x=o(e.read,f,"read");i(m,"end",x)}),h}function ii(t){t=t;let e={protocol:t.protocol,hostname:l.string(t.hostname)&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};return l.string(t.port)&&t.port.length>0&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username||""}:${t.password||""}`),e}var $t=class{constructor(){Object.defineProperty(this,"weakMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"map",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.weakMap=new WeakMap,this.map=new Map}set(e,r){typeof e=="object"?this.weakMap.set(e,r):this.map.set(e,r)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}};var Om=({attemptCount:t,retryOptions:e,error:r,retryAfter:n,computedValue:i})=>{if(r.name==="RetryError")return 1;if(t>e.limit)return 0;let s=e.methods.includes(r.options.method),o=e.errorCodes.includes(r.code),a=r.response&&e.statusCodes.includes(r.response.statusCode);if(!s||!o&&!a)return 0;if(r.response){if(n)return n>i?0:n;if(r.response.statusCode===413)return 0}let c=Math.random()*e.noise;return Math.min(2**(t-1)*1e3,e.backoffLimit)+c},_c=Om;var ku=L(require("node:process"),1),Jt=require("node:util"),Oe=require("node:url"),Cu=require("node:tls"),Au=L(require("node:http"),1),qu=L(require("node:https"),1);var _e=require("node:dns"),qr=require("node:util"),Oc=L(require("node:os"),1),{Resolver:wc}=_e.promises,ft=Symbol("cacheableLookupCreateConnection"),si=Symbol("cacheableLookupInstance"),bc=Symbol("expires"),vm=typeof _e.ALL=="number",Sc=t=>{if(!(t&&typeof t.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},Pm=t=>{for(let e of t)e.family!==6&&(e.address=`::ffff:${e.address}`,e.family=6)},Ec=()=>{let t=!1,e=!1;for(let r of Object.values(Oc.default.networkInterfaces()))for(let n of r)if(!n.internal&&(n.family==="IPv6"?e=!0:t=!0,t&&e))return{has4:t,has6:e};return{has4:t,has6:e}},Tm=t=>Symbol.iterator in t,Ar=t=>t.catch(e=>{if(e.code==="ENODATA"||e.code==="ENOTFOUND"||e.code==="ENOENT")return[];throw e}),xc={ttl:!0},Rm={all:!0},km={all:!0,family:4},Cm={all:!0,family:6},Mt=class{constructor({cache:e=new Map,maxTtl:r=1/0,fallbackDuration:n=3600,errorTtl:i=.15,resolver:s=new wc,lookup:o=_e.lookup}={}){if(this.maxTtl=r,this.errorTtl=i,this._cache=e,this._resolver=s,this._dnsLookup=o&&(0,qr.promisify)(o),this.stats={cache:0,query:0},this._resolver instanceof wc?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=(0,qr.promisify)(this._resolver.resolve4.bind(this._resolver)),this._resolve6=(0,qr.promisify)(this._resolver.resolve6.bind(this._resolver))),this._iface=Ec(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,this.fallbackDuration=n,n>0){let a=setInterval(()=>{this._hostnamesToFallback.clear()},n*1e3);a.unref&&a.unref(),this._fallbackInterval=a}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,r,n){if(typeof r=="function"?(n=r,r={}):typeof r=="number"&&(r={family:r}),!n)throw new Error("Callback must be a function.");this.lookupAsync(e,r).then(i=>{r.all?n(null,i):n(null,i.address,i.family,i.expires,i.ttl,i.source)},n)}async lookupAsync(e,r={}){typeof r=="number"&&(r={family:r});let n=await this.query(e);if(r.family===6){let i=n.filter(s=>s.family===6);r.hints&_e.V4MAPPED&&(vm&&r.hints&_e.ALL||i.length===0)?Pm(n):n=i}else r.family===4&&(n=n.filter(i=>i.family===4));if(r.hints&_e.ADDRCONFIG){let{_iface:i}=this;n=n.filter(s=>s.family===6?i.has6:i.has4)}if(n.length===0){let i=new Error(`cacheableLookup ENOTFOUND ${e}`);throw i.code="ENOTFOUND",i.hostname=e,i}return r.all?n:n[0]}async query(e){let r="cache",n=await this._cache.get(e);if(n&&this.stats.cache++,!n){let i=this._pending[e];if(i)this.stats.cache++,n=await i;else{r="query";let s=this.queryAndCache(e);this._pending[e]=s,this.stats.query++;try{n=await s}finally{delete this._pending[e]}}}return n=n.map(i=>({...i,source:r})),n}async _resolve(e){let[r,n]=await Promise.all([Ar(this._resolve4(e,xc)),Ar(this._resolve6(e,xc))]),i=0,s=0,o=0,a=Date.now();for(let c of r)c.family=4,c.expires=a+c.ttl*1e3,i=Math.max(i,c.ttl);for(let c of n)c.family=6,c.expires=a+c.ttl*1e3,s=Math.max(s,c.ttl);return r.length>0?n.length>0?o=Math.min(i,s):o=i:o=s,{entries:[...r,...n],cacheTtl:o}}async _lookup(e){try{let[r,n]=await Promise.all([Ar(this._dnsLookup(e,km)),Ar(this._dnsLookup(e,Cm))]);return{entries:[...r,...n],cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,r,n){if(this.maxTtl>0&&n>0){n=Math.min(n,this.maxTtl)*1e3,r[bc]=Date.now()+n;try{await this._cache.set(e,r,n)}catch(i){this.lookupAsync=async()=>{let s=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw s.cause=i,s}}Tm(this._cache)&&this._tick(n)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,Rm);let r=await this._resolve(e);r.entries.length===0&&this._dnsLookup&&(r=await this._lookup(e),r.entries.length!==0&&this.fallbackDuration>0&&this._hostnamesToFallback.add(e));let n=r.entries.length===0?this.errorTtl:r.cacheTtl;return await this._set(e,r.entries,n),r.entries}_tick(e){let r=this._nextRemovalTime;(!r||e<r)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let n=1/0,i=Date.now();for(let[s,o]of this._cache){let a=o[bc];i>=a?this._cache.delete(s):a<n&&(n=a)}n!==1/0&&this._tick(n-i)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(Sc(e),ft in e)throw new Error("CacheableLookup has been already installed");e[ft]=e.createConnection,e[si]=this,e.createConnection=(r,n)=>("lookup"in r||(r.lookup=this.lookup),e[ft](r,n))}uninstall(e){if(Sc(e),e[ft]){if(e[si]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[ft],delete e[ft],delete e[si]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=Ec(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}};var ju=L(Pu(),1);function ki(t){let e=[],r=t.split(",");for(let n of r){let[i,...s]=n.split(";"),o=i.trim();if(o[0]!=="<"||o[o.length-1]!==">")throw new Error(`Invalid format of the Link header reference: ${o}`);let a=o.slice(1,-1),c={};if(s.length===0)throw new Error(`Unexpected end of Link header parameters: ${s.join(";")}`);for(let f of s){let h=f.trim(),p=h.indexOf("=");if(p===-1)throw new Error(`Failed to parse Link header: ${t}`);let d=h.slice(0,p).trim(),y=h.slice(p+1).trim();c[d]=y}e.push({reference:a,parameters:c})}return e}var[Tu,Xp]=ku.default.versions.node.split(".").map(Number);function Zp(t){for(let e in t){let r=t[e];_.any([l.string,l.number,l.boolean,l.null_,l.undefined],r)}}var ey=new Map,Ur,ty=()=>Ur||(Ur=new Mt,Ur),ry={request:void 0,agent:{http:void 0,https:void 0,http2:void 0},h2session:void 0,decompress:!0,timeout:{connect:void 0,lookup:void 0,read:void 0,request:void 0,response:void 0,secureConnect:void 0,send:void 0,socket:void 0},prefixUrl:"",body:void 0,form:void 0,json:void 0,cookieJar:void 0,ignoreInvalidCookies:!1,searchParams:void 0,dnsLookup:void 0,dnsCache:void 0,context:{},hooks:{init:[],beforeRequest:[],beforeError:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},followRedirect:!0,maxRedirects:10,cache:void 0,throwHttpErrors:!0,username:"",password:"",http2:!1,allowGetBody:!1,headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},methodRewriting:!1,dnsLookupIpVersion:void 0,parseJson:JSON.parse,stringifyJson:JSON.stringify,retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:t})=>t,backoffLimit:Number.POSITIVE_INFINITY,noise:100},localAddress:void 0,method:"GET",createConnection:void 0,cacheOptions:{shared:void 0,cacheHeuristic:void 0,immutableMinTimeToLive:void 0,ignoreCargoCult:void 0},https:{alpnProtocols:void 0,rejectUnauthorized:void 0,checkServerIdentity:void 0,certificateAuthority:void 0,key:void 0,certificate:void 0,passphrase:void 0,pfx:void 0,ciphers:void 0,honorCipherOrder:void 0,minVersion:void 0,maxVersion:void 0,signatureAlgorithms:void 0,tlsSessionLifetime:void 0,dhparam:void 0,ecdhCurve:void 0,certificateRevocationLists:void 0},encoding:void 0,resolveBodyOnly:!1,isStream:!1,responseType:"text",url:void 0,pagination:{transform(t){return t.request.options.responseType==="json"?t.body:JSON.parse(t.body)},paginate({response:t}){let e=t.headers.link;if(typeof e!="string"||e.trim()==="")return!1;let n=ki(e).find(i=>i.parameters.rel==="next"||i.parameters.rel==='"next"');return n?{url:new Oe.URL(n.reference,t.url)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:Number.POSITIVE_INFINITY,backoff:0,requestLimit:1e4,stackAllItems:!1},setHost:!0,maxHeaderSize:void 0,signal:void 0,enableUnixSockets:!0},ny=t=>{let{hooks:e,retry:r}=t,n={...t,context:{...t.context},cacheOptions:{...t.cacheOptions},https:{...t.https},agent:{...t.agent},headers:{...t.headers},retry:{...r,errorCodes:[...r.errorCodes],methods:[...r.methods],statusCodes:[...r.statusCodes]},timeout:{...t.timeout},hooks:{init:[...e.init],beforeRequest:[...e.beforeRequest],beforeError:[...e.beforeError],beforeRedirect:[...e.beforeRedirect],beforeRetry:[...e.beforeRetry],afterResponse:[...e.afterResponse]},searchParams:t.searchParams?new Oe.URLSearchParams(t.searchParams):void 0,pagination:{...t.pagination}};return n.url!==void 0&&(n.prefixUrl=""),n},iy=t=>{let{hooks:e,retry:r}=t,n={...t};return l.object(t.context)&&(n.context={...t.context}),l.object(t.cacheOptions)&&(n.cacheOptions={...t.cacheOptions}),l.object(t.https)&&(n.https={...t.https}),l.object(t.cacheOptions)&&(n.cacheOptions={...n.cacheOptions}),l.object(t.agent)&&(n.agent={...t.agent}),l.object(t.headers)&&(n.headers={...t.headers}),l.object(r)&&(n.retry={...r},l.array(r.errorCodes)&&(n.retry.errorCodes=[...r.errorCodes]),l.array(r.methods)&&(n.retry.methods=[...r.methods]),l.array(r.statusCodes)&&(n.retry.statusCodes=[...r.statusCodes])),l.object(t.timeout)&&(n.timeout={...t.timeout}),l.object(e)&&(n.hooks={...e},l.array(e.init)&&(n.hooks.init=[...e.init]),l.array(e.beforeRequest)&&(n.hooks.beforeRequest=[...e.beforeRequest]),l.array(e.beforeError)&&(n.hooks.beforeError=[...e.beforeError]),l.array(e.beforeRedirect)&&(n.hooks.beforeRedirect=[...e.beforeRedirect]),l.array(e.beforeRetry)&&(n.hooks.beforeRetry=[...e.beforeRetry]),l.array(e.afterResponse)&&(n.hooks.afterResponse=[...e.afterResponse])),l.object(t.pagination)&&(n.pagination={...t.pagination}),n},sy=t=>{let e=[t.timeout.socket,t.timeout.connect,t.timeout.lookup,t.timeout.request,t.timeout.secureConnect].filter(r=>typeof r=="number");if(e.length>0)return Math.min(...e)},Ru=(t,e,r)=>{let n=t.hooks?.init;if(n)for(let i of n)i(e,r)},Q=class{constructor(e,r,n){if(Object.defineProperty(this,"_unixOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_internals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_merging",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_init",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),_.any([l.string,l.urlInstance,l.object,l.undefined],e),_.any([l.object,l.undefined],r),_.any([l.object,l.undefined],n),e instanceof Q||r instanceof Q)throw new TypeError("The defaults must be passed as the third argument");this._internals=ny(n?._internals??n??ry),this._init=[...n?._init??[]],this._merging=!1,this._unixOptions=void 0;try{if(l.plainObject(e))try{this.merge(e),this.merge(r)}finally{this.url=e.url}else try{this.merge(r)}finally{if(r?.url!==void 0)if(e===void 0)this.url=r.url;else throw new TypeError("The `url` option is mutually exclusive with the `input` argument");else e!==void 0&&(this.url=e)}}catch(i){throw i.options=this,i}}merge(e){if(e){if(e instanceof Q){for(let r of e._init)this.merge(r);return}e=iy(e),Ru(this,e,this),Ru(e,e,this),this._merging=!0,"isStream"in e&&(this.isStream=e.isStream);try{let r=!1;for(let n in e)if(!(n==="mutableDefaults"||n==="handlers")&&n!=="url"){if(!(n in this))throw new Error(`Unexpected option: ${n}`);this[n]=e[n],r=!0}r&&this._init.push(e)}finally{this._merging=!1}}}get request(){return this._internals.request}set request(e){_.any([l.function_,l.undefined],e),this._internals.request=e}get agent(){return this._internals.agent}set agent(e){_.plainObject(e);for(let r in e){if(!(r in this._internals.agent))throw new TypeError(`Unexpected agent option: ${r}`);_.any([l.object,l.undefined],e[r])}this._merging?Object.assign(this._internals.agent,e):this._internals.agent={...e}}get h2session(){return this._internals.h2session}set h2session(e){this._internals.h2session=e}get decompress(){return this._internals.decompress}set decompress(e){_.boolean(e),this._internals.decompress=e}get timeout(){return this._internals.timeout}set timeout(e){_.plainObject(e);for(let r in e){if(!(r in this._internals.timeout))throw new Error(`Unexpected timeout option: ${r}`);_.any([l.number,l.undefined],e[r])}this._merging?Object.assign(this._internals.timeout,e):this._internals.timeout={...e}}get prefixUrl(){return this._internals.prefixUrl}set prefixUrl(e){if(_.any([l.string,l.urlInstance],e),e===""){this._internals.prefixUrl="";return}if(e=e.toString(),e.endsWith("/")||(e+="/"),this._internals.prefixUrl&&this._internals.url){let{href:r}=this._internals.url;this._internals.url.href=e+r.slice(this._internals.prefixUrl.length)}this._internals.prefixUrl=e}get body(){return this._internals.body}set body(e){_.any([l.string,l.buffer,l.nodeStream,l.generator,l.asyncGenerator,ut,l.undefined],e),l.nodeStream(e)&&_.truthy(e.readable),e!==void 0&&(_.undefined(this._internals.form),_.undefined(this._internals.json)),this._internals.body=e}get form(){return this._internals.form}set form(e){_.any([l.plainObject,l.undefined],e),e!==void 0&&(_.undefined(this._internals.body),_.undefined(this._internals.json)),this._internals.form=e}get json(){return this._internals.json}set json(e){e!==void 0&&(_.undefined(this._internals.body),_.undefined(this._internals.form)),this._internals.json=e}get url(){return this._internals.url}set url(e){if(_.any([l.string,l.urlInstance,l.undefined],e),e===void 0){this._internals.url=void 0;return}if(l.string(e)&&e.startsWith("/"))throw new Error("`url` must not start with a slash");let r=`${this.prefixUrl}${e.toString()}`,n=new Oe.URL(r);if(this._internals.url=n,decodeURI(r),n.protocol==="unix:"&&(n.href=`http://unix${n.pathname}${n.search}`),n.protocol!=="http:"&&n.protocol!=="https:"){let i=new Error(`Unsupported protocol: ${n.protocol}`);throw i.code="ERR_UNSUPPORTED_PROTOCOL",i}if(this._internals.username&&(n.username=this._internals.username,this._internals.username=""),this._internals.password&&(n.password=this._internals.password,this._internals.password=""),this._internals.searchParams&&(n.search=this._internals.searchParams.toString(),this._internals.searchParams=void 0),n.hostname==="unix"){if(!this._internals.enableUnixSockets)throw new Error("Using UNIX domain sockets but option `enableUnixSockets` is not enabled");let i=/(?<socketPath>.+?):(?<path>.+)/.exec(`${n.pathname}${n.search}`);if(i?.groups){let{socketPath:s,path:o}=i.groups;this._unixOptions={socketPath:s,path:o,host:""}}else this._unixOptions=void 0;return}this._unixOptions=void 0}get cookieJar(){return this._internals.cookieJar}set cookieJar(e){if(_.any([l.object,l.undefined],e),e===void 0){this._internals.cookieJar=void 0;return}let{setCookie:r,getCookieString:n}=e;_.function_(r),_.function_(n),r.length===4&&n.length===0?(r=(0,Jt.promisify)(r.bind(e)),n=(0,Jt.promisify)(n.bind(e)),this._internals.cookieJar={setCookie:r,getCookieString:n}):this._internals.cookieJar=e}get signal(){return this._internals.signal}set signal(e){_.object(e),this._internals.signal=e}get ignoreInvalidCookies(){return this._internals.ignoreInvalidCookies}set ignoreInvalidCookies(e){_.boolean(e),this._internals.ignoreInvalidCookies=e}get searchParams(){return this._internals.url?this._internals.url.searchParams:(this._internals.searchParams===void 0&&(this._internals.searchParams=new Oe.URLSearchParams),this._internals.searchParams)}set searchParams(e){_.any([l.string,l.object,l.undefined],e);let r=this._internals.url;if(e===void 0){this._internals.searchParams=void 0,r&&(r.search="");return}let n=this.searchParams,i;if(l.string(e))i=new Oe.URLSearchParams(e);else if(e instanceof Oe.URLSearchParams)i=e;else{Zp(e),i=new Oe.URLSearchParams;for(let s in e){let o=e[s];o===null?i.append(s,""):o===void 0?n.delete(s):i.append(s,o)}}if(this._merging){for(let s of i.keys())n.delete(s);for(let[s,o]of i)n.append(s,o)}else r?r.search=n.toString():this._internals.searchParams=n}get searchParameters(){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}set searchParameters(e){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}get dnsLookup(){return this._internals.dnsLookup}set dnsLookup(e){_.any([l.function_,l.undefined],e),this._internals.dnsLookup=e}get dnsCache(){return this._internals.dnsCache}set dnsCache(e){_.any([l.object,l.boolean,l.undefined],e),e===!0?this._internals.dnsCache=ty():e===!1?this._internals.dnsCache=void 0:this._internals.dnsCache=e}get context(){return this._internals.context}set context(e){_.object(e),this._merging?Object.assign(this._internals.context,e):this._internals.context={...e}}get hooks(){return this._internals.hooks}set hooks(e){_.object(e);for(let r in e){if(!(r in this._internals.hooks))throw new Error(`Unexpected hook event: ${r}`);let n=r,i=e[n];if(_.any([l.array,l.undefined],i),i)for(let s of i)_.function_(s);if(this._merging)i&&this._internals.hooks[n].push(...i);else{if(!i)throw new Error(`Missing hook event: ${r}`);this._internals.hooks[r]=[...i]}}}get followRedirect(){return this._internals.followRedirect}set followRedirect(e){_.boolean(e),this._internals.followRedirect=e}get followRedirects(){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}set followRedirects(e){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}get maxRedirects(){return this._internals.maxRedirects}set maxRedirects(e){_.number(e),this._internals.maxRedirects=e}get cache(){return this._internals.cache}set cache(e){_.any([l.object,l.string,l.boolean,l.undefined],e),e===!0?this._internals.cache=ey:e===!1?this._internals.cache=void 0:this._internals.cache=e}get throwHttpErrors(){return this._internals.throwHttpErrors}set throwHttpErrors(e){_.boolean(e),this._internals.throwHttpErrors=e}get username(){let e=this._internals.url,r=e?e.username:this._internals.username;return decodeURIComponent(r)}set username(e){_.string(e);let r=this._internals.url,n=encodeURIComponent(e);r?r.username=n:this._internals.username=n}get password(){let e=this._internals.url,r=e?e.password:this._internals.password;return decodeURIComponent(r)}set password(e){_.string(e);let r=this._internals.url,n=encodeURIComponent(e);r?r.password=n:this._internals.password=n}get http2(){return this._internals.http2}set http2(e){_.boolean(e),this._internals.http2=e}get allowGetBody(){return this._internals.allowGetBody}set allowGetBody(e){_.boolean(e),this._internals.allowGetBody=e}get headers(){return this._internals.headers}set headers(e){_.plainObject(e),this._merging?Object.assign(this._internals.headers,at(e)):this._internals.headers=at(e)}get methodRewriting(){return this._internals.methodRewriting}set methodRewriting(e){_.boolean(e),this._internals.methodRewriting=e}get dnsLookupIpVersion(){return this._internals.dnsLookupIpVersion}set dnsLookupIpVersion(e){if(e!==void 0&&e!==4&&e!==6)throw new TypeError(`Invalid DNS lookup IP version: ${e}`);this._internals.dnsLookupIpVersion=e}get parseJson(){return this._internals.parseJson}set parseJson(e){_.function_(e),this._internals.parseJson=e}get stringifyJson(){return this._internals.stringifyJson}set stringifyJson(e){_.function_(e),this._internals.stringifyJson=e}get retry(){return this._internals.retry}set retry(e){if(_.plainObject(e),_.any([l.function_,l.undefined],e.calculateDelay),_.any([l.number,l.undefined],e.maxRetryAfter),_.any([l.number,l.undefined],e.limit),_.any([l.array,l.undefined],e.methods),_.any([l.array,l.undefined],e.statusCodes),_.any([l.array,l.undefined],e.errorCodes),_.any([l.number,l.undefined],e.noise),e.noise&&Math.abs(e.noise)>100)throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${e.noise}`);for(let n in e)if(!(n in this._internals.retry))throw new Error(`Unexpected retry option: ${n}`);this._merging?Object.assign(this._internals.retry,e):this._internals.retry={...e};let{retry:r}=this._internals;r.methods=[...new Set(r.methods.map(n=>n.toUpperCase()))],r.statusCodes=[...new Set(r.statusCodes)],r.errorCodes=[...new Set(r.errorCodes)]}get localAddress(){return this._internals.localAddress}set localAddress(e){_.any([l.string,l.undefined],e),this._internals.localAddress=e}get method(){return this._internals.method}set method(e){_.string(e),this._internals.method=e.toUpperCase()}get createConnection(){return this._internals.createConnection}set createConnection(e){_.any([l.function_,l.undefined],e),this._internals.createConnection=e}get cacheOptions(){return this._internals.cacheOptions}set cacheOptions(e){_.plainObject(e),_.any([l.boolean,l.undefined],e.shared),_.any([l.number,l.undefined],e.cacheHeuristic),_.any([l.number,l.undefined],e.immutableMinTimeToLive),_.any([l.boolean,l.undefined],e.ignoreCargoCult);for(let r in e)if(!(r in this._internals.cacheOptions))throw new Error(`Cache option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.cacheOptions,e):this._internals.cacheOptions={...e}}get https(){return this._internals.https}set https(e){_.plainObject(e),_.any([l.boolean,l.undefined],e.rejectUnauthorized),_.any([l.function_,l.undefined],e.checkServerIdentity),_.any([l.string,l.object,l.array,l.undefined],e.certificateAuthority),_.any([l.string,l.object,l.array,l.undefined],e.key),_.any([l.string,l.object,l.array,l.undefined],e.certificate),_.any([l.string,l.undefined],e.passphrase),_.any([l.string,l.buffer,l.array,l.undefined],e.pfx),_.any([l.array,l.undefined],e.alpnProtocols),_.any([l.string,l.undefined],e.ciphers),_.any([l.string,l.buffer,l.undefined],e.dhparam),_.any([l.string,l.undefined],e.signatureAlgorithms),_.any([l.string,l.undefined],e.minVersion),_.any([l.string,l.undefined],e.maxVersion),_.any([l.boolean,l.undefined],e.honorCipherOrder),_.any([l.number,l.undefined],e.tlsSessionLifetime),_.any([l.string,l.undefined],e.ecdhCurve),_.any([l.string,l.buffer,l.array,l.undefined],e.certificateRevocationLists);for(let r in e)if(!(r in this._internals.https))throw new Error(`HTTPS option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.https,e):this._internals.https={...e}}get encoding(){return this._internals.encoding}set encoding(e){if(e===null)throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");_.any([l.string,l.undefined],e),this._internals.encoding=e}get resolveBodyOnly(){return this._internals.resolveBodyOnly}set resolveBodyOnly(e){_.boolean(e),this._internals.resolveBodyOnly=e}get isStream(){return this._internals.isStream}set isStream(e){_.boolean(e),this._internals.isStream=e}get responseType(){return this._internals.responseType}set responseType(e){if(e===void 0){this._internals.responseType="text";return}if(e!=="text"&&e!=="buffer"&&e!=="json")throw new Error(`Invalid \`responseType\` option: ${e}`);this._internals.responseType=e}get pagination(){return this._internals.pagination}set pagination(e){_.object(e),this._merging?Object.assign(this._internals.pagination,e):this._internals.pagination=e}get auth(){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}set auth(e){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}get setHost(){return this._internals.setHost}set setHost(e){_.boolean(e),this._internals.setHost=e}get maxHeaderSize(){return this._internals.maxHeaderSize}set maxHeaderSize(e){_.any([l.number,l.undefined],e),this._internals.maxHeaderSize=e}get enableUnixSockets(){return this._internals.enableUnixSockets}set enableUnixSockets(e){_.boolean(e),this._internals.enableUnixSockets=e}toJSON(){return{...this._internals}}[Symbol.for("nodejs.util.inspect.custom")](e,r){return(0,Jt.inspect)(this._internals,r)}createNativeRequestOptions(){let e=this._internals,r=e.url,n;r.protocol==="https:"?n=e.http2?e.agent:e.agent.https:n=e.agent.http;let{https:i}=e,{pfx:s}=i;return l.array(s)&&l.plainObject(s[0])&&(s=s.map(o=>({buf:o.buffer,passphrase:o.passphrase}))),{...e.cacheOptions,...this._unixOptions,ALPNProtocols:i.alpnProtocols,ca:i.certificateAuthority,cert:i.certificate,key:i.key,passphrase:i.passphrase,pfx:i.pfx,rejectUnauthorized:i.rejectUnauthorized,checkServerIdentity:i.checkServerIdentity??Cu.checkServerIdentity,ciphers:i.ciphers,honorCipherOrder:i.honorCipherOrder,minVersion:i.minVersion,maxVersion:i.maxVersion,sigalgs:i.signatureAlgorithms,sessionTimeout:i.tlsSessionLifetime,dhparam:i.dhparam,ecdhCurve:i.ecdhCurve,crl:i.certificateRevocationLists,lookup:e.dnsLookup??e.dnsCache?.lookup,family:e.dnsLookupIpVersion,agent:n,setHost:e.setHost,method:e.method,maxHeaderSize:e.maxHeaderSize,localAddress:e.localAddress,headers:e.headers,createConnection:e.createConnection,timeout:e.http2?sy(e):void 0,h2session:e.h2session}}getRequestFunction(){let e=this._internals.url,{request:r}=this._internals;return!r&&e?this.getFallbackRequestFunction():r}getFallbackRequestFunction(){let e=this._internals.url;if(e){if(e.protocol==="https:"){if(this._internals.http2){if(Tu<15||Tu===15&&Xp<10){let r=new Error("To use the `http2` option, install Node.js 15.10.0 or above");throw r.code="EUNSUPPORTED",r}return ju.default.auto}return qu.default.request}return Au.default.request}}freeze(){let e=this._internals;Object.freeze(e),Object.freeze(e.hooks),Object.freeze(e.hooks.afterResponse),Object.freeze(e.hooks.beforeError),Object.freeze(e.hooks.beforeRedirect),Object.freeze(e.hooks.beforeRequest),Object.freeze(e.hooks.beforeRetry),Object.freeze(e.hooks.init),Object.freeze(e.https),Object.freeze(e.cacheOptions),Object.freeze(e.agent),Object.freeze(e.headers),Object.freeze(e.timeout),Object.freeze(e.retry),Object.freeze(e.retry.errorCodes),Object.freeze(e.retry.methods),Object.freeze(e.retry.statusCodes)}};var dt=t=>{let{statusCode:e}=t,r=t.request.options.followRedirect?299:399;return e>=200&&e<=r||e===304},Hr=class extends I{constructor(e,r){let{options:n}=r.request;super(`${e.message} in "${n.url.toString()}"`,e,r.request),this.name="ParseError",this.code="ERR_BODY_PARSE_FAILURE"}},Ci=(t,e,r,n)=>{let{rawBody:i}=t;try{if(e==="text")return i.toString(n);if(e==="json")return i.length===0?"":r(i.toString(n));if(e==="buffer")return i}catch(s){throw new Hr(s,t)}throw new Hr({message:`Unknown body type '${e}'`,name:"Error"},t)};function oy(t){return t.writable&&!t.writableEnded}var Du=oy;function $r(t){return t.protocol==="unix:"||t.hostname==="unix"}var ay=l.string(qi.default.versions.brotli),cy=new Set(["GET","HEAD"]),Ai=new $t,uy=new Set([300,301,302,303,304,307,308]),fy=["socket","connect","continue","information","upgrade"],Mr=()=>{},ve=class extends Iu.Duplex{constructor(e,r,n){super({autoDestroy:!1,highWaterMark:0}),Object.defineProperty(this,"constructor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_noPipe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"redirectUrls",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"retryCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopRetry",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downloadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_uploadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopReading",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pipedServerResponses",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_responseSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bodySize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_unproxyEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isFromCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cannotHaveBody",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_triggerRead",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cancelTimeouts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_removeListeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nativeResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_flushed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_aborted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_requestInitialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._downloadedSize=0,this._uploadedSize=0,this._stopReading=!1,this._pipedServerResponses=new Set,this._cannotHaveBody=!1,this._unproxyEvents=Mr,this._triggerRead=!1,this._cancelTimeouts=Mr,this._removeListeners=Mr,this._jobs=[],this._flushed=!1,this._requestInitialized=!1,this._aborted=!1,this.redirectUrls=[],this.retryCount=0,this._stopRetry=Mr,this.on("pipe",s=>{s.headers&&Object.assign(this.options.headers,s.headers)}),this.on("newListener",s=>{if(s==="retry"&&this.listenerCount("retry")>0)throw new Error("A retry listener has been attached already.")});try{if(this.options=new Q(e,r,n),!this.options.url){if(this.options.prefixUrl==="")throw new TypeError("Missing `url` property");this.options.url=""}this.requestUrl=this.options.url}catch(s){let{options:o}=s;o&&(this.options=o),this.flush=async()=>{this.flush=async()=>{},this.destroy(s)};return}let{body:i}=this.options;if(l.nodeStream(i)&&i.once("error",s=>{this._flushed?this._beforeError(new Tt(s,this)):this.flush=async()=>{this.flush=async()=>{},this._beforeError(new Tt(s,this))}}),this.options.signal){let s=()=>{this.destroy(new Er(this))};this.options.signal.aborted?s():(this.options.signal.addEventListener("abort",s),this._removeListeners=()=>{this.options.signal.removeEventListener("abort",s)})}}async flush(){if(!this._flushed){this._flushed=!0;try{if(await this._finalizeBody(),this.destroyed)return;if(await this._makeRequest(),this.destroyed){this._request?.destroy();return}for(let e of this._jobs)e();this._jobs.length=0,this._requestInitialized=!0}catch(e){this._beforeError(e)}}}_beforeError(e){if(this._stopReading)return;let{response:r,options:n}=this,i=this.retryCount+(e.name==="RetryError"?0:1);this._stopReading=!0,e instanceof I||(e=new I(e.message,e,this));let s=e;(async()=>{if(r?.readable&&!r.rawBody&&!this._request?.socket?.destroyed&&(r.setEncoding(this.readableEncoding),await this._setRawBody(r)&&(r.body=r.rawBody.toString())),this.listenerCount("retry")!==0){let o;try{let a;r&&"retry-after"in r.headers&&(a=Number(r.headers["retry-after"]),Number.isNaN(a)?(a=Date.parse(r.headers["retry-after"])-Date.now(),a<=0&&(a=1)):a*=1e3);let c=n.retry;o=await c.calculateDelay({attemptCount:i,retryOptions:c,error:s,retryAfter:a,computedValue:_c({attemptCount:i,retryOptions:c,error:s,retryAfter:a,computedValue:c.maxRetryAfter??n.timeout.request??Number.POSITIVE_INFINITY})})}catch(a){this._error(new I(a.message,a,this));return}if(o){if(await new Promise(a=>{let c=setTimeout(a,o);this._stopRetry=()=>{clearTimeout(c),a()}}),this.destroyed)return;try{for(let a of this.options.hooks.beforeRetry)await a(s,this.retryCount+1)}catch(a){this._error(new I(a.message,e,this));return}if(this.destroyed)return;this.destroy(),this.emit("retry",this.retryCount+1,e,a=>{let c=new ve(n.url,a,n);return c.retryCount=this.retryCount+1,qi.default.nextTick(()=>{c.flush()}),c});return}}this._error(s)})()}_read(){this._triggerRead=!0;let{response:e}=this;if(e&&!this._stopReading){e.readableLength&&(this._triggerRead=!1);let r;for(;(r=e.read())!==null;){this._downloadedSize+=r.length;let n=this.downloadProgress;n.percent<1&&this.emit("downloadProgress",n),this.push(r)}}}_write(e,r,n){let i=()=>{this._writeRequest(e,r,n)};this._requestInitialized?i():this._jobs.push(i)}_final(e){let r=()=>{if(!this._request||this._request.destroyed){e();return}this._request.end(n=>{this._request._writableState?.errored||(n||(this._bodySize=this._uploadedSize,this.emit("uploadProgress",this.uploadProgress),this._request.emit("upload-complete")),e(n))})};this._requestInitialized?r():this._jobs.push(r)}_destroy(e,r){if(this._stopReading=!0,this.flush=async()=>{},this._stopRetry(),this._cancelTimeouts(),this._removeListeners(),this.options){let{body:n}=this.options;l.nodeStream(n)&&n.destroy()}this._request&&this._request.destroy(),e!==null&&!l.undefined(e)&&!(e instanceof I)&&(e=new I(e.message,e,this)),r(e)}pipe(e,r){return e instanceof Kt.ServerResponse&&this._pipedServerResponses.add(e),super.pipe(e,r)}unpipe(e){return e instanceof Kt.ServerResponse&&this._pipedServerResponses.delete(e),super.unpipe(e),this}async _finalizeBody(){let{options:e}=this,{headers:r}=e,n=!l.undefined(e.form),i=!l.undefined(e.json),s=!l.undefined(e.body),o=cy.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=o,n||i||s){if(o)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);let a=!l.string(r["content-type"]);if(s){if(ut(e.body)){let f=new Cr(e.body);a&&(r["content-type"]=f.headers["Content-Type"]),"Content-Length"in f.headers&&(r["content-length"]=f.headers["Content-Length"]),e.body=f.encode()}Ft(e.body)&&a&&(r["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`)}else if(n){a&&(r["content-type"]="application/x-www-form-urlencoded");let{form:f}=e;e.form=void 0,e.body=new zr.URLSearchParams(f).toString()}else{a&&(r["content-type"]="application/json");let{json:f}=e;e.json=void 0,e.body=e.stringifyJson(f)}let c=await ti(e.body,e.headers);l.undefined(r["content-length"])&&l.undefined(r["transfer-encoding"])&&!o&&!l.undefined(c)&&(r["content-length"]=String(c))}e.responseType==="json"&&!("accept"in e.headers)&&(e.headers.accept="application/json"),this._bodySize=Number(r["content-length"])||void 0}async _onResponseBase(e){if(this.isAborted)return;let{options:r}=this,{url:n}=r;this._nativeResponse=e,r.decompress&&(e=(0,Nu.default)(e));let i=e.statusCode,s=e;s.statusMessage=s.statusMessage?s.statusMessage:Kt.default.STATUS_CODES[i],s.url=r.url.toString(),s.requestUrl=this.requestUrl,s.redirectUrls=this.redirectUrls,s.request=this,s.isFromCache=this._nativeResponse.fromCache??!1,s.ip=this.ip,s.retryCount=this.retryCount,s.ok=dt(s),this._isFromCache=s.isFromCache,this._responseSize=Number(e.headers["content-length"])||void 0,this.response=s,e.once("end",()=>{this._responseSize=this._downloadedSize,this.emit("downloadProgress",this.downloadProgress)}),e.once("error",a=>{this._aborted=!0,e.destroy(),this._beforeError(new Rt(a,this))}),e.once("aborted",()=>{this._aborted=!0,this._beforeError(new Rt({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let o=e.headers["set-cookie"];if(l.object(r.cookieJar)&&o){let a=o.map(async c=>r.cookieJar.setCookie(c,n.toString()));r.ignoreInvalidCookies&&(a=a.map(async c=>{try{await c}catch{}}));try{await Promise.all(a)}catch(c){this._beforeError(c);return}}if(!this.isAborted){if(r.followRedirect&&e.headers.location&&uy.has(i)){if(e.resume(),this._cancelTimeouts(),this._unproxyEvents(),this.redirectUrls.length>=r.maxRedirects){this._beforeError(new _r(this));return}this._request=void 0;let a=new Q(void 0,void 0,this.options),c=i===303&&a.method!=="GET"&&a.method!=="HEAD",f=i!==307&&i!==308,h=a.methodRewriting&&f;(c||h)&&(a.method="GET",a.body=void 0,a.json=void 0,a.form=void 0,delete a.headers["content-length"]);try{let p=Br.Buffer.from(e.headers.location,"binary").toString(),d=new zr.URL(p,n);if(!$r(n)&&$r(d)){this._beforeError(new I("Cannot redirect to UNIX socket",{},this));return}d.hostname!==n.hostname||d.port!==n.port?("host"in a.headers&&delete a.headers.host,"cookie"in a.headers&&delete a.headers.cookie,"authorization"in a.headers&&delete a.headers.authorization,(a.username||a.password)&&(a.username="",a.password="")):(d.username=a.username,d.password=a.password),this.redirectUrls.push(d),a.prefixUrl="",a.url=d;for(let y of a.hooks.beforeRedirect)await y(a,s);this.emit("redirect",a,s),this.options=a,await this._makeRequest()}catch(p){this._beforeError(p);return}return}if(r.isStream&&r.throwHttpErrors&&!dt(s)){this._beforeError(new Le(s));return}if(e.on("readable",()=>{this._triggerRead&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this._noPipe){await this._setRawBody()&&this.emit("response",e);return}this.emit("response",e);for(let a of this._pipedServerResponses)if(!a.headersSent){for(let c in e.headers){let f=r.decompress?c!=="content-encoding":!0,h=e.headers[c];f&&a.setHeader(c,h)}a.statusCode=i}}}async _setRawBody(e=this){if(e.readableEnded)return!1;try{let r=await(0,Lu.buffer)(e);if(!this.isAborted)return this.response.rawBody=r,!0}catch{}return!1}async _onResponse(e){try{await this._onResponseBase(e)}catch(r){this._beforeError(r)}}_onRequest(e){let{options:r}=this,{timeout:n,url:i}=r;Ma(e),this.options.http2&&e.setTimeout(0),this._cancelTimeouts=ni(e,n,i);let s=r.cache?"cacheableResponse":"response";e.once(s,o=>{this._onResponse(o)}),e.once("error",o=>{this._aborted=!0,e.destroy(),o=o instanceof Ht?new br(o,this.timings,this):new I(o.message,o,this),this._beforeError(o)}),this._unproxyEvents=Ut(e,this,fy),this._request=e,this.emit("uploadProgress",this.uploadProgress),this._sendBody(),this.emit("request",e)}async _asyncWrite(e){return new Promise((r,n)=>{super.write(e,i=>{if(i){n(i);return}r()})})}_sendBody(){let{body:e}=this.options,r=this.redirectUrls.length===0?this:this._request??this;l.nodeStream(e)?e.pipe(r):l.generator(e)||l.asyncGenerator(e)?(async()=>{try{for await(let n of e)await this._asyncWrite(n);super.end()}catch(n){this._beforeError(n)}})():l.undefined(e)?(this._cannotHaveBody||this._noPipe)&&r.end():(this._writeRequest(e,void 0,()=>{}),r.end())}_prepareCache(e){if(!Ai.has(e)){let r=new nc((n,i)=>{let s=n._request(n,i);return l.promise(s)&&(s.once=(o,a)=>{if(o==="error")(async()=>{try{await s}catch(c){a(c)}})();else if(o==="abort")(async()=>{try{(await s).once("abort",a)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${o}`);return s}),s},e);Ai.set(e,r.request())}}async _createCacheableRequest(e,r){return new Promise((n,i)=>{Object.assign(r,ii(e));let s,o=Ai.get(r.cache)(r,async a=>{if(a._readableState.autoDestroy=!1,s){let c=()=>{a.req&&(a.complete=a.req.res.complete)};a.prependOnceListener("end",c),c(),(await s).emit("cacheableResponse",a)}n(a)});o.once("error",i),o.once("request",async a=>{s=a,n(s)})})}async _makeRequest(){let{options:e}=this,{headers:r,username:n,password:i}=e,s=e.cookieJar;for(let f in r)if(l.undefined(r[f]))delete r[f];else if(l.null_(r[f]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${f}\` header`);if(e.decompress&&l.undefined(r["accept-encoding"])&&(r["accept-encoding"]=ay?"gzip, deflate, br":"gzip, deflate"),n||i){let f=Br.Buffer.from(`${n}:${i}`).toString("base64");r.authorization=`Basic ${f}`}if(s){let f=await s.getCookieString(e.url.toString());l.nonEmptyString(f)&&(r.cookie=f)}e.prefixUrl="";let o;for(let f of e.hooks.beforeRequest){let h=await f(e);if(!l.undefined(h)){o=()=>h;break}}o||(o=e.getRequestFunction());let a=e.url;this._requestOptions=e.createNativeRequestOptions(),e.cache&&(this._requestOptions._request=o,this._requestOptions.cache=e.cache,this._requestOptions.body=e.body,this._prepareCache(e.cache));let c=e.cache?this._createCacheableRequest:o;try{let f=c(a,this._requestOptions);l.promise(f)&&(f=await f),l.undefined(f)&&(f=e.getFallbackRequestFunction()(a,this._requestOptions),l.promise(f)&&(f=await f)),Du(f)?this._onRequest(f):this.writable?(this.once("finish",()=>{this._onResponse(f)}),this._sendBody()):this._onResponse(f)}catch(f){throw f instanceof xe?new wr(f,this):f}}async _error(e){try{if(!(e instanceof Le&&!this.options.throwHttpErrors))for(let r of this.options.hooks.beforeError)e=await r(e)}catch(r){e=new I(r.message,r,this)}this.destroy(e)}_writeRequest(e,r,n){!this._request||this._request.destroyed||this._request.write(e,r,i=>{if(!i&&!this._request.destroyed){this._uploadedSize+=Br.Buffer.byteLength(e,r);let s=this.uploadProgress;s.percent<1&&this.emit("uploadProgress",s)}n(i)})}get ip(){return this.socket?.remoteAddress}get isAborted(){return this._aborted}get socket(){return this._request?.socket??void 0}get downloadProgress(){let e;return this._responseSize?e=this._downloadedSize/this._responseSize:this._responseSize===this._downloadedSize?e=1:e=0,{percent:e,transferred:this._downloadedSize,total:this._responseSize}}get uploadProgress(){let e;return this._bodySize?e=this._uploadedSize/this._bodySize:this._bodySize===this._uploadedSize?e=1:e=0,{percent:e,transferred:this._uploadedSize,total:this._bodySize}}get timings(){return this._request?.timings}get isFromCache(){return this._isFromCache}get reusedSocket(){return this._request?.reusedSocket}};var Wr=class extends I{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}};var hy=["request","response","redirect","uploadProgress","downloadProgress"];function Vr(t){let e,r,n,i=new Fu.EventEmitter,s=new Ne((a,c,f)=>{f(()=>{e.destroy()}),f.shouldReject=!1,f(()=>{c(new Wr(e))});let h=p=>{f(()=>{});let d=t??new ve(void 0,void 0,n);d.retryCount=p,d._noPipe=!0,e=d,d.once("response",async m=>{let x=(m.headers["content-encoding"]??"").toLowerCase(),w=x==="gzip"||x==="deflate"||x==="br",{options:P}=d;if(w&&!P.decompress)m.body=m.rawBody;else try{m.body=Ci(m,P.responseType,P.parseJson,P.encoding)}catch(E){if(m.body=m.rawBody.toString(),dt(m)){d._beforeError(E);return}}try{let E=P.hooks.afterResponse;for(let[T,H]of E.entries())if(m=await H(m,async z=>{throw P.merge(z),P.prefixUrl="",z.url&&(P.url=z.url),P.hooks.afterResponse=P.hooks.afterResponse.slice(0,T),new Sr(d)}),!(l.object(m)&&l.number(m.statusCode)&&!l.nullOrUndefined(m.body)))throw new TypeError("The `afterResponse` hook returned an invalid value")}catch(E){d._beforeError(E);return}if(r=m,!dt(m)){d._beforeError(new Le(m));return}d.destroy(),a(d.options.resolveBodyOnly?m.body:m)});let y=m=>{if(s.isCanceled)return;let{options:x}=d;if(m instanceof Le&&!x.throwHttpErrors){let{response:w}=m;d.destroy(),a(d.options.resolveBodyOnly?w.body:w);return}c(m)};d.once("error",y);let g=d.options?.body;d.once("retry",(m,x)=>{t=void 0;let w=d.options.body;if(g===w&&l.nodeStream(w)){x.message="Cannot retry with consumed body stream",y(x);return}n=d.options,h(m)}),Ut(d,i,hy),l.undefined(t)&&d.flush()};h(0)});s.on=(a,c)=>(i.on(a,c),s),s.off=(a,c)=>(i.off(a,c),s);let o=a=>{let c=(async()=>{await s;let{options:f}=r.request;return Ci(r,a,f.parseJson,f.encoding)})();return Object.defineProperties(c,Object.getOwnPropertyDescriptors(s)),c};return s.json=()=>{if(e.options){let{headers:a}=e.options;!e.writableFinished&&!("accept"in a)&&(a.accept="application/json")}return o("json")},s.buffer=()=>o("buffer"),s.text=()=>o("text"),s}var ly=async t=>new Promise(e=>{setTimeout(e,t)}),dy=t=>l.function_(t),my=["get","post","put","patch","head","delete"],Uu=t=>{t={options:new Q(void 0,void 0,t.options),handlers:[...t.handlers],mutableDefaults:t.mutableDefaults},Object.defineProperty(t,"mutableDefaults",{enumerable:!0,configurable:!1,writable:!1});let e=(n,i,s=t.options)=>{let o=new ve(n,i,s),a,c=p=>(o.options=p,o._noPipe=!p.isStream,o.flush(),p.isStream?o:(a||(a=Vr(o)),a)),f=0,h=p=>{let y=(t.handlers[f++]??c)(p,h);if(l.promise(y)&&!o.options.isStream&&(a||(a=Vr(o)),y!==a)){let g=Object.getOwnPropertyDescriptors(a);for(let m in g)m in y&&delete g[m];Object.defineProperties(y,g),y.cancel=a.cancel}return y};return h(o.options)};e.extend=(...n)=>{let i=new Q(void 0,void 0,t.options),s=[...t.handlers],o;for(let a of n)dy(a)?(i.merge(a.defaults.options),s.push(...a.defaults.handlers),o=a.defaults.mutableDefaults):(i.merge(a),a.handlers&&s.push(...a.handlers),o=a.mutableDefaults);return Uu({options:i,handlers:s,mutableDefaults:Boolean(o)})};let r=async function*(n,i){let s=new Q(n,i,t.options);s.resolveBodyOnly=!1;let{pagination:o}=s;_.function_(o.transform),_.function_(o.shouldContinue),_.function_(o.filter),_.function_(o.paginate),_.number(o.countLimit),_.number(o.requestLimit),_.number(o.backoff);let a=[],{countLimit:c}=o,f=0;for(;f<o.requestLimit;){f!==0&&await ly(o.backoff);let h=await e(void 0,void 0,s),p=await o.transform(h),d=[];_.array(p);for(let g of p)if(o.filter({item:g,currentItems:d,allItems:a})&&(!o.shouldContinue({item:g,currentItems:d,allItems:a})||(yield g,o.stackAllItems&&a.push(g),d.push(g),--c<=0)))return;let y=o.paginate({response:h,currentItems:d,allItems:a});if(y===!1)return;y===h.request.options?s=h.request.options:(s.merge(y),_.any([l.urlInstance,l.undefined],y.url),y.url!==void 0&&(s.prefixUrl="",s.url=y.url)),f++}};e.paginate=r,e.paginate.all=async(n,i)=>{let s=[];for await(let o of r(n,i))s.push(o);return s},e.paginate.each=r,e.stream=(n,i)=>e(n,{...i,isStream:!0});for(let n of my)e[n]=(i,s)=>e(i,{...s,method:n}),e.stream[n]=(i,s)=>e(i,{...s,method:n,isStream:!0});return t.mutableDefaults||(Object.freeze(t.handlers),t.options.freeze()),Object.defineProperty(e,"defaults",{value:t,writable:!1,configurable:!1,enumerable:!0}),e},Hu=Uu;var py={options:new Q,handlers:[],mutableDefaults:!1},yy=Hu(py),$u=yy;var Gr=require("path"),Jr=require("process");function gy(){return Di(this,null,function*(){try{let t=(0,me.getInput)("input")||(0,me.getInput)("content")||(0,me.getInput)("secret",{required:!0}),e=(0,me.getInput)("output")||(0,me.getInput)("target",{required:!0}),r=!!((0,me.getInput)("is-url")||(0,me.getInput)("fetch")),n=(0,Gr.resolve)((0,Jr.cwd)(),e),i=(0,Gr.dirname)(n);Jr.env.NODE_PROCESS==="test"&&console.log({secretData:t,target:e,needToFetch:r});let[s]=yield Promise.all([r?yield $u(t).text():t,yield(0,Bu.ensureDir)(i)]),o=(0,Mu.createWriteStream)(n);o.write(s),o.end(),(0,me.setOutput)("\u{1F366} Secret served in:",n)}catch(t){t instanceof Error&&(0,me.setFailed)(t.message)}})}gy();
